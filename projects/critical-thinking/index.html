<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Critical Thinking Trainer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #1a2980, #26d0ce);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .tagline {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 15px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card h3 {
            color: #1a2980;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(to right, #1a2980, #26d0ce);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            color: white;
            font-size: 1.5rem;
        }
        
        .stat {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1a2980;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .training-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .training-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 15px;
        }
        
        .training-header h2 {
            color: #1a2980;
        }
        
        .difficulty {
            display: flex;
            gap: 10px;
        }
        
        .difficulty-btn {
            padding: 8px 15px;
            background: #f0f0f0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .difficulty-btn.active {
            background: #1a2980;
            color: white;
        }
        
        .question-container {
            margin-bottom: 30px;
        }
        
        .question {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #333;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #1a2980;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            padding: 18px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .option:hover {
            border-color: #1a2980;
            background: #f8f9ff;
        }
        
        .option.selected {
            border-color: #1a2980;
            background: #eef7ff;
        }
        
        .option.correct {
            border-color: #28a745;
            background: #d4edda;
        }
        
        .option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }
        
        .option-letter {
            width: 35px;
            height: 35px;
            background: #1a2980;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 15px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(to right, #1a2980, #26d0ce);
            color: white;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .progress-section, .resources-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .progress-section h3, .resources-section h3 {
            color: #1a2980;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-bar {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #1a2980, #26d0ce);
            border-radius: 10px;
            width: 0%;
            transition: width 1s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
        }
        
        .skill-item {
            margin-bottom: 20px;
        }
        
        .skill-name {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .skill-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .skill-level {
            height: 100%;
            background: #26d0ce;
            border-radius: 4px;
        }
        
        .resources-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .resource-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .resource-item:hover {
            background: #eef7ff;
            transform: translateX(5px);
        }
        
        .resource-icon {
            width: 40px;
            height: 40px;
            background: #1a2980;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .feedback-container {
            display: none;
            margin-top: 30px;
            padding: 25px;
            border-radius: 10px;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .feedback-correct {
            background: #d4edda;
            border-left: 5px solid #28a745;
        }
        
        .feedback-incorrect {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
        }
        
        .feedback-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feedback-explanation {
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .feedback-tip {
            font-style: italic;
            color: #555;
            padding: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 5px;
            border-left: 3px solid #ffc107;
        }
        
        .cognitive-biases {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .bias-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .bias-card:hover {
            transform: translateY(-5px);
        }
        
        .bias-card h4 {
            color: #1a2980;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .bias-card p {
            color: #555;
            line-height: 1.5;
            font-size: 0.95rem;
        }
        
        .bias-example {
            margin-top: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            font-size: 0.9rem;
            border-left: 3px solid #26d0ce;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: white;
            margin-top: 30px;
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .completion-message {
            display: none;
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            margin-top: 30px;
            animation: fadeIn 0.5s;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                gap: 15px;
            }
            
            button {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-brain"></i> Critical Thinking Trainer</h1>
            <p class="tagline">Sharpen your analytical skills with logic puzzles, cognitive bias identification, and reasoning challenges. Improve your decision-making and problem-solving abilities through structured exercises.</p>
        </header>
        
        <div class="dashboard">
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat" id="correctAnswers">0</div>
                <div class="stat-label">Correct Answers</div>
            </div>
            
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat" id="accuracyRate">0%</div>
                <div class="stat-label">Accuracy Rate</div>
            </div>
            
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-tasks"></i>
                </div>
                <div class="stat" id="questionsCompleted">0</div>
                <div class="stat-label">Questions Completed</div>
            </div>
            
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-medal"></i>
                </div>
                <div class="stat" id="skillLevel">Beginner</div>
                <div class="stat-label">Current Skill Level</div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="training-area">
                <div class="training-header">
                    <h2>Critical Thinking Challenge</h2>
                    <div class="difficulty">
                        <button class="difficulty-btn active" data-level="beginner">Beginner</button>
                        <button class="difficulty-btn" data-level="intermediate">Intermediate</button>
                        <button class="difficulty-btn" data-level="advanced">Advanced</button>
                    </div>
                </div>
                
                <div class="question-container">
                    <div class="question" id="questionText">
                        <!-- Question will be loaded here -->
                    </div>
                    
                    <div class="options" id="optionsContainer">
                        <!-- Options will be loaded here -->
                    </div>
                </div>
                
                <div class="feedback-container" id="feedbackContainer">
                    <!-- Feedback will be shown here -->
                </div>
                
                <div class="controls">
                    <button id="submitBtn" class="btn-primary" disabled>
                        <i class="fas fa-paper-plane"></i> Submit Answer
                    </button>
                    <button id="nextBtn" class="btn-success" style="display: none;">
                        <i class="fas fa-arrow-right"></i> Next Challenge
                    </button>
                    <button id="hintBtn" class="btn-secondary">
                        <i class="fas fa-lightbulb"></i> Get Hint
                    </button>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="progress-section">
                    <h3><i class="fas fa-chart-pie"></i> Your Progress</h3>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="overallProgress"></div>
                    </div>
                    <div class="progress-text">
                        <span>Overall Progress</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>Logical Reasoning</span>
                            <span id="logicSkill">0%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-level" id="logicSkillBar"></div>
                        </div>
                    </div>
                    
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>Bias Detection</span>
                            <span id="biasSkill">0%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-level" id="biasSkillBar"></div>
                        </div>
                    </div>
                    
                    <div class="skill-item">
                        <div class="skill-name">
                            <span>Problem Solving</span>
                            <span id="problemSkill">0%</span>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-level" id="problemSkillBar"></div>
                        </div>
                    </div>
                </div>
                
                <div class="resources-section">
                    <h3><i class="fas fa-book-open"></i> Learning Resources</h3>
                    
                    <div class="resources-list">
                        <div class="resource-item" id="logicGuide">
                            <div class="resource-icon">
                                <i class="fas fa-sitemap"></i>
                            </div>
                            <div>
                                <div class="resource-title">Logical Fallacies Guide</div>
                                <div class="resource-desc">Learn to identify common reasoning errors</div>
                            </div>
                        </div>
                        
                        <div class="resource-item" id="biasGuide">
                            <div class="resource-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div>
                                <div class="resource-title">Cognitive Biases</div>
                                <div class="resource-desc">Understand mental shortcuts that distort thinking</div>
                            </div>
                        </div>
                        
                        <div class="resource-item" id="problemSolving">
                            <div class="resource-icon">
                                <i class="fas fa-puzzle-piece"></i>
                            </div>
                            <div>
                                <div class="resource-title">Problem-Solving Framework</div>
                                <div class="resource-desc">Step-by-step approach to complex problems</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="completion-message" id="completionMessage">
            <h2><i class="fas fa-trophy"></i> Training Session Complete!</h2>
            <p>You've completed this training session. Your critical thinking skills are improving!</p>
            <div style="margin: 20px 0; font-size: 1.2rem;">
                <p>Final Score: <strong id="finalScore">0</strong> / <span id="totalQuestions">0</span></p>
                <p>Accuracy: <strong id="finalAccuracy">0%</strong></p>
            </div>
            <button id="restartBtn" class="btn-primary">
                <i class="fas fa-redo"></i> Start New Session
            </button>
        </div>
        
        <h2 style="color: white; margin-top: 40px; margin-bottom: 20px;">Cognitive Biases to Recognize</h2>
        <div class="cognitive-biases" id="biasesContainer">
            <!-- Cognitive biases will be loaded here -->
        </div>
        
        <footer>
            <p>Critical Thinking Trainer &copy; 2026 | Designed to improve analytical reasoning and decision-making skills</p>
            <p>Remember: Critical thinking is a skill that improves with practice and reflection.</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const submitBtn = document.getElementById('submitBtn');
        const nextBtn = document.getElementById('nextBtn');
        const hintBtn = document.getElementById('hintBtn');
        const restartBtn = document.getElementById('restartBtn');
        const completionMessage = document.getElementById('completionMessage');
        const difficultyBtns = document.querySelectorAll('.difficulty-btn');
        
        // Stats elements
        const correctAnswersElement = document.getElementById('correctAnswers');
        const accuracyRateElement = document.getElementById('accuracyRate');
        const questionsCompletedElement = document.getElementById('questionsCompleted');
        const skillLevelElement = document.getElementById('skillLevel');
        const overallProgressElement = document.getElementById('overallProgress');
        const progressPercentElement = document.getElementById('progressPercent');
        
        // Skill elements
        const logicSkillElement = document.getElementById('logicSkill');
        const logicSkillBarElement = document.getElementById('logicSkillBar');
        const biasSkillElement = document.getElementById('biasSkill');
        const biasSkillBarElement = document.getElementById('biasSkillBar');
        const problemSkillElement = document.getElementById('problemSkill');
        const problemSkillBarElement = document.getElementById('problemSkillBar');
        
        // Final score elements
        const finalScoreElement = document.getElementById('finalScore');
        const totalQuestionsElement = document.getElementById('totalQuestions');
        const finalAccuracyElement = document.getElementById('finalAccuracy');
        
        // Game variables
        let currentQuestionIndex = 0;
        let selectedOption = null;
        let score = 0;
        let totalQuestions = 0;
        let correctAnswers = 0;
        let currentDifficulty = 'beginner';
        let questionsAnswered = 0;
        let sessionQuestions = [];
        
        // Skill tracking
        let logicSkill = 0;
        let biasSkill = 0;
        let problemSkill = 0;
        
        // Question database
        const questions = {
            beginner: [
                {
                    id: 1,
                    question: "A store sells apples for $2 each and oranges for $3 each. If Sarah buys 3 apples and 2 oranges, how much does she spend in total?",
                    options: ["$12", "$13", "$14", "$15"],
                    correctAnswer: 0,
                    explanation: "3 apples × $2 = $6, 2 oranges × $3 = $6, total = $12.",
                    category: "problem",
                    hint: "Calculate the cost of apples and oranges separately, then add them together."
                },
                {
                    id: 2,
                    question: "Which of the following is an example of the 'confirmation bias'?",
                    options: [
                        "Seeking information that supports your existing beliefs",
                        "Making decisions based on the first information received",
                        "Believing an event was predictable after it has occurred",
                        "Overestimating the importance of information that is readily available"
                    ],
                    correctAnswer: 0,
                    explanation: "Confirmation bias is the tendency to search for, interpret, favor, and recall information in a way that confirms one's preexisting beliefs.",
                    category: "bias",
                    hint: "This bias involves favoring information that aligns with what you already think."
                },
                {
                    id: 3,
                    question: "All mammals have hair. Dogs are mammals. Therefore:",
                    options: [
                        "All dogs have hair",
                        "Some dogs have hair",
                        "No dogs have hair",
                        "Only some mammals have hair"
                    ],
                    correctAnswer: 0,
                    explanation: "This is a valid deductive argument. If all mammals have hair, and dogs are mammals, then all dogs must have hair.",
                    category: "logic",
                    hint: "Think about what 'all' means in logical statements."
                },
                {
                    id: 4,
                    question: "If you flip a fair coin 3 times and get 'heads' each time, what is the probability of getting 'heads' on the 4th flip?",
                    options: ["25%", "50%", "75%", "100%"],
                    correctAnswer: 1,
                    explanation: "Each coin flip is an independent event. Past results don't affect future flips, so the probability remains 50%.",
                    category: "logic",
                    hint: "Consider whether previous coin flips influence future ones."
                }
            ],
            intermediate: [
                {
                    id: 5,
                    question: "A news headline says: 'People who drink coffee live longer, study finds.' What logical error might this represent if the study only found correlation?",
                    options: [
                        "Assuming correlation implies causation",
                        "Appealing to authority",
                        "False dilemma",
                        "Ad hominem attack"
                    ],
                    correctAnswer: 0,
                    explanation: "Just because two things are correlated doesn't mean one causes the other. There might be other factors (like socioeconomic status) influencing both coffee drinking and longevity.",
                    category: "logic",
                    hint: "Remember that correlation doesn't equal causation."
                },
                {
                    id: 6,
                    question: "John believes his favorite sports team will win because they've lost their last three games and 'they're due for a win.' What cognitive bias is this?",
                    options: [
                        "Gambler's fallacy",
                        "Anchoring bias",
                        "Availability heuristic",
                        "Hindsight bias"
                    ],
                    correctAnswer: 0,
                    explanation: "The gambler's fallacy is the mistaken belief that if something happens more frequently than normal during a given period, it will happen less frequently in the future (or vice versa).",
                    category: "bias",
                    hint: "This bias involves mistaken beliefs about probability and 'being due' for an outcome."
                },
                {
                    id: 7,
                    question: "A company's profits increased by 10% after hiring a new CEO. The board concludes the CEO caused the profit increase. What alternative explanation should they consider?",
                    options: [
                        "The overall economy improved during that period",
                        "The CEO has an impressive resume",
                        "The previous CEO was unpopular",
                        "The company's marketing budget increased"
                    ],
                    correctAnswer: 0,
                    explanation: "Multiple factors could explain increased profits, including broader economic conditions. Critical thinking requires considering alternative explanations rather than jumping to conclusions.",
                    category: "problem",
                    hint: "Think about other factors that could influence company profits beyond the CEO."
                }
            ],
            advanced: [
                {
                    id: 8,
                    question: "A study finds that people who take daily vitamins have better health outcomes. However, people who take vitamins might also exercise more, eat healthier, and have better healthcare access. This illustrates the problem of:",
                    options: [
                        "Confounding variables",
                        "Selection bias",
                        "Sampling error",
                        "Placebo effect"
                    ],
                    correctAnswer: 0,
                    explanation: "Confounding variables are external factors that affect both the supposed cause and the observed effect, making it difficult to establish true causation.",
                    category: "logic",
                    hint: "These are variables that weren't accounted for but might explain the relationship."
                },
                {
                    id: 9,
                    question: "'Either we ban all cars, or our city will become uninhabitable due to pollution.' This argument commits which logical fallacy?",
                    options: [
                        "False dilemma",
                        "Slippery slope",
                        "Straw man",
                        "Appeal to emotion"
                    ],
                    correctAnswer: 0,
                    explanation: "A false dilemma presents only two options when more exist. There are many solutions to pollution beyond an all-or-nothing approach.",
                    category: "logic",
                    hint: "This fallacy oversimplifies a complex issue into an 'either/or' choice."
                },
                {
                    id: 10,
                    question: "A politician says, 'My opponent wants to defund the police, which would lead to chaos in our streets.' However, the opponent never actually said they want to defund the police. This is an example of:",
                    options: [
                        "Straw man fallacy",
                        "Ad hominem attack",
                        "Red herring",
                        "Bandwagon fallacy"
                    ],
                    correctAnswer: 0,
                    explanation: "The straw man fallacy involves misrepresenting someone's argument to make it easier to attack. The politician created a false version of the opponent's position.",
                    category: "logic",
                    hint: "This fallacy involves creating a distorted version of an argument to attack it."
                }
            ]
        };
        
        // Cognitive biases data
        const cognitiveBiases = [
            {
                name: "Confirmation Bias",
                description: "The tendency to search for, interpret, favor, and recall information in a way that confirms one's preexisting beliefs.",
                example: "Only reading news sources that align with your political views."
            },
            {
                name: "Anchoring Bias",
                description: "The tendency to rely too heavily on the first piece of information offered when making decisions.",
                example: "The first price offered for a car sets the standard for the rest of the negotiation."
            },
            {
                name: "Availability Heuristic",
                description: "Overestimating the importance of information that is readily available or recent in memory.",
                example: "Thinking plane crashes are common after seeing news coverage of one, despite statistics showing they're rare."
            },
            {
                name: "Dunning-Kruger Effect",
                description: "The tendency for unskilled individuals to overestimate their ability, while experts underestimate theirs.",
                example: "A beginner chess player thinking they could beat a master after learning the basic rules."
            },
            {
                name: "Sunk Cost Fallacy",
                description: "Continuing a behavior or endeavor because of previously invested resources (time, money, effort).",
                example: "Continuing to watch a bad movie because you've already paid for the ticket and spent 30 minutes watching."
            },
            {
                name: "Hindsight Bias",
                description: "The tendency to see events as having been predictable after they have occurred.",
                example: "After an election, claiming you knew who would win all along, even if you were uncertain before."
            }
        ];
        
        // Initialize the game
        function initGame() {
            currentQuestionIndex = 0;
            selectedOption = null;
            score = 0;
            totalQuestions = 0;
            correctAnswers = 0;
            questionsAnswered = 0;
            
            // Reset skills
            logicSkill = 0;
            biasSkill = 0;
            problemSkill = 0;
            
            // Hide completion message
            completionMessage.style.display = 'none';
            
            // Load questions for current difficulty
            sessionQuestions = [...questions[currentDifficulty]];
            totalQuestions = sessionQuestions.length;
            
            // Update UI
            updateStats();
            updateSkills();
            loadQuestion();
            loadCognitiveBiases();
            
            // Reset buttons
            submitBtn.disabled = true;
            submitBtn.style.display = 'flex';
            nextBtn.style.display = 'none';
            feedbackContainer.style.display = 'none';
        }
        
        // Load the current question
        function loadQuestion() {
            if (currentQuestionIndex >= sessionQuestions.length) {
                endSession();
                return;
            }
            
            const question = sessionQuestions[currentQuestionIndex];
            questionText.textContent = question.question;
            
            // Clear options container
            optionsContainer.innerHTML = '';
            
            // Create option elements
            const optionLetters = ['A', 'B', 'C', 'D'];
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.dataset.index = index;
                
                optionElement.innerHTML = `
                    <div class="option-letter">${optionLetters[index]}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionElement, index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Reset selection
            selectedOption = null;
            submitBtn.disabled = true;
            nextBtn.style.display = 'none';
            feedbackContainer.style.display = 'none';
        }
        
        // Select an option
        function selectOption(optionElement, index) {
            // Remove selected class from all options
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            optionElement.classList.add('selected');
            selectedOption = index;
            submitBtn.disabled = false;
        }
        
        // Submit answer
        function submitAnswer() {
            if (selectedOption === null) return;
            
            const question = sessionQuestions[currentQuestionIndex];
            const isCorrect = selectedOption === question.correctAnswer;
            const optionElements = document.querySelectorAll('.option');
            
            // Show correct/incorrect styling
            optionElements.forEach((option, index) => {
                if (index === question.correctAnswer) {
                    option.classList.add('correct');
                } else if (index === selectedOption && !isCorrect) {
                    option.classList.add('incorrect');
                }
                
                // Disable further clicks
                option.style.pointerEvents = 'none';
            });
            
            // Update stats
            questionsAnswered++;
            if (isCorrect) {
                correctAnswers++;
                score += 10;
                
                // Increase relevant skill
                if (question.category === 'logic') logicSkill += 10;
                if (question.category === 'bias') biasSkill += 10;
                if (question.category === 'problem') problemSkill += 10;
            }
            
            // Show feedback
            showFeedback(isCorrect, question.explanation, question.hint);
            
            // Update UI
            updateStats();
            updateSkills();
            
            // Show next button
            submitBtn.style.display = 'none';
            nextBtn.style.display = 'flex';
        }
        
        // Show feedback
        function showFeedback(isCorrect, explanation, hint) {
            feedbackContainer.className = `feedback-container ${isCorrect ? 'feedback-correct' : 'feedback-incorrect'}`;
            feedbackContainer.style.display = 'block';
            
            const icon = isCorrect ? '<i class="fas fa-check-circle"></i>' : '<i class="fas fa-times-circle"></i>';
            const title = isCorrect ? 'Correct! Well done.' : 'Not quite right. Let\'s review.';
            
            feedbackContainer.innerHTML = `
                <div class="feedback-title">
                    ${icon} ${title}
                </div>
                <div class="feedback-explanation">
                    ${explanation}
                </div>
                <div class="feedback-tip">
                    <strong>Tip:</strong> ${hint}
                </div>
            `;
        }
        
        // Go to next question
        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }
        
        // End the session
        function endSession() {
            completionMessage.style.display = 'block';
            finalScoreElement.textContent = score;
            totalQuestionsElement.textContent = totalQuestions * 10;
            
            const accuracy = totalQuestions > 0 ? Math.round((correctAnswers / totalQuestions) * 100) : 0;
            finalAccuracyElement.textContent = `${accuracy}%`;
        }
        
        // Update stats display
        function updateStats() {
            correctAnswersElement.textContent = correctAnswers;
            
            const accuracy = questionsAnswered > 0 ? Math.round((correctAnswers / questionsAnswered) * 100) : 0;
            accuracyRateElement.textContent = `${accuracy}%`;
            
            questionsCompletedElement.textContent = questionsAnswered;
            
            // Update skill level
            let skillLevel = 'Beginner';
            const totalSkill = logicSkill + biasSkill + problemSkill;
            
            if (totalSkill > 60) skillLevel = 'Intermediate';
            if (totalSkill > 120) skillLevel = 'Advanced';
            if (totalSkill > 180) skillLevel = 'Expert';
            
            skillLevelElement.textContent = skillLevel;
            
            // Update progress
            const progressPercent = totalQuestions > 0 ? Math.round((questionsAnswered / totalQuestions) * 100) : 0;
            overallProgressElement.style.width = `${progressPercent}%`;
            progressPercentElement.textContent = `${progressPercent}%`;
        }
        
        // Update skills display
        function updateSkills() {
            // Cap skills at 100%
            const logicPercent = Math.min(logicSkill, 100);
            const biasPercent = Math.min(biasSkill, 100);
            const problemPercent = Math.min(problemSkill, 100);
            
            logicSkillElement.textContent = `${logicPercent}%`;
            logicSkillBarElement.style.width = `${logicPercent}%`;
            
            biasSkillElement.textContent = `${biasPercent}%`;
            biasSkillBarElement.style.width = `${biasPercent}%`;
            
            problemSkillElement.textContent = `${problemPercent}%`;
            problemSkillBarElement.style.width = `${problemPercent}%`;
        }
        
        // Load cognitive biases
        function loadCognitiveBiases() {
            const biasesContainer = document.getElementById('biasesContainer');
            biasesContainer.innerHTML = '';
            
            cognitiveBiases.forEach(bias => {
                const biasCard = document.createElement('div');
                biasCard.className = 'bias-card';
                
                biasCard.innerHTML = `
                    <h4><i class="fas fa-exclamation-triangle"></i> ${bias.name}</h4>
                    <p>${bias.description}</p>
                    <div class="bias-example">
                        <strong>Example:</strong> ${bias.example}
                    </div>
                `;
                
                biasesContainer.appendChild(biasCard);
            });
        }
        
        // Show hint
        function showHint() {
            const question = sessionQuestions[currentQuestionIndex];
            alert(`Hint: ${question.hint}`);
        }
        
        // Change difficulty
        function changeDifficulty(level) {
            currentDifficulty = level;
            
            // Update active button
            difficultyBtns.forEach(btn => {
                if (btn.dataset.level === level) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Restart with new difficulty
            initGame();
        }
        
        // Event Listeners
        submitBtn.addEventListener('click', submitAnswer);
        nextBtn.addEventListener('click', nextQuestion);
        hintBtn.addEventListener('click', showHint);
        restartBtn.addEventListener('click', initGame);
        
        // Difficulty buttons
        difficultyBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                changeDifficulty(btn.dataset.level);
            });
        });
        
        // Resource buttons
        document.getElementById('logicGuide').addEventListener('click', () => {
            alert("Logical fallacies are common errors in reasoning that undermine the logic of an argument. Common fallacies include:\n\n1. Ad Hominem: Attacking the person instead of the argument\n2. Straw Man: Misrepresenting someone's argument to make it easier to attack\n3. False Dilemma: Presenting only two options when more exist\n4. Slippery Slope: Arguing that a small first step will lead to a chain of related events");
        });
        
        document.getElementById('biasGuide').addEventListener('click', () => {
            alert("Cognitive biases are systematic patterns of deviation from norm or rationality in judgment. They occur when our brains try to simplify information processing.\n\nKey biases to watch for:\n- Confirmation Bias: Favoring information that confirms existing beliefs\n- Availability Heuristic: Overweighting readily available information\n- Anchoring: Relying too heavily on the first piece of information\n- Sunk Cost Fallacy: Continuing an endeavor because of previously invested resources");
        });
        
        document.getElementById('problemSolving').addEventListener('click', () => {
            alert("Effective problem-solving framework:\n\n1. Define the Problem: Clearly articulate what needs to be solved\n2. Gather Information: Collect relevant data and perspectives\n3. Generate Alternatives: Brainstorm multiple possible solutions\n4. Evaluate Options: Assess each alternative against criteria\n5. Choose a Solution: Select the best option\n6. Implement: Put the solution into action\n7. Review: Evaluate outcomes and learn from the process");
        });
        
        // Initialize the game
        initGame();
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Number keys 1-4 for selecting options
            if (e.key >= '1' && e.key <= '4' && !submitBtn.disabled) {
                const index = parseInt(e.key) - 1;
                const optionElements = document.querySelectorAll('.option');
                if (index < optionElements.length) {
                    selectOption(optionElements[index], index);
                }
            }
            
            // Enter to submit
            if (e.key === 'Enter' && !submitBtn.disabled && submitBtn.style.display !== 'none') {
                submitAnswer();
            }
            
            // Space for next question
            if (e.key === ' ' && nextBtn.style.display !== 'none') {
                nextQuestion();
            }
            
            // H for hint
            if (e.key === 'h' || e.key === 'H') {
                showHint();
            }
        });
        
        // Add instructions for keyboard shortcuts
        document.addEventListener('DOMContentLoaded', () => {
            const tagline = document.querySelector('.tagline');
            tagline.innerHTML += '<br><small>Press 1-4 to select answers, ENTER to submit, SPACE for next question, H for hint</small>';
        });
    </script>
</body>
</html>