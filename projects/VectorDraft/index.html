<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VectorDraft</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="logo">VECTORDRAFT</div>
        <button class="menu-toggle" onclick="app.toggleMobileMenu()">â˜°</button>
        <div class="toolbar">
            <div class="tool-group">
                <button class="tool-btn" onclick="app.newDocument()">New</button>
                <button class="tool-btn" onclick="app.saveToLocalStorage()">Save</button>
                <button class="tool-btn" onclick="app.loadFromLocalStorage()">Load</button>
                <button class="tool-btn" onclick="app.exportSVG()">Export</button>
            </div>
            <div class="tool-group">
                <button class="tool-btn" onclick="app.undo()">Undo</button>
                <button class="tool-btn" onclick="app.redo()">Redo</button>
            </div>
            <div class="tool-group">
                <button class="tool-btn" onclick="app.deleteSelected()">Delete</button>
                <button class="tool-btn" onclick="app.duplicateSelected()">Duplicate</button>
            </div>
        </div>
    </header>

    <button class="properties-toggle" onclick="app.togglePropertiesPanel()">âš™</button>
    <div class="backdrop" onclick="app.togglePropertiesPanel()"></div>

    <div class="main-container">
        <aside class="tools-panel">
            <button class="tool-icon active" data-tool="select" title="Select Tool (V)">âŒ–</button>
            <button class="tool-icon" data-tool="pen" title="Pen Tool (P)">âœ’</button>
            <button class="tool-icon" data-tool="rect" title="Rectangle (R)">â–­</button>
            <button class="tool-icon" data-tool="circle" title="Circle (C)">â—‹</button>
            <button class="tool-icon" data-tool="line" title="Line (L)">â•±</button>
            <button class="tool-icon" data-tool="node" title="Node Editor (A)">â—†</button>
        </aside>

        <main class="canvas-container">
            <svg id="canvas" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                        <rect width="20" height="20" fill="var(--bg-primary)"/>
                        <path d="M 20 0 L 0 0 0 20" fill="none" stroke="var(--grid-color)" stroke-width="0.5"/>
                    </pattern>
                </defs>
                <g id="viewport">
                    <rect id="gridBackground" x="-5000" y="-5000" width="10000" height="10000" fill="url(#grid)"/>
                    <g id="mainGroup"></g>
                    <g id="selectionGroup"></g>
                </g>
            </svg>
        </main>

        <aside class="properties-panel">
            <section class="panel-section">
                <div class="panel-header">Properties</div>
                <div class="panel-content" id="propertiesContent">
                    <div class="property-row">
                        <span class="property-label">Fill</span>
                        <input type="color" class="color-input property-input" id="fillColor" value="#00ff88">
                    </div>
                    <div class="property-row">
                        <span class="property-label">Stroke</span>
                        <input type="color" class="color-input property-input" id="strokeColor" value="#000000">
                    </div>
                    <div class="property-row">
                        <span class="property-label">Stroke Width</span>
                        <input type="number" class="property-input" id="strokeWidth" value="2" min="0" step="0.5">
                    </div>
                    <div class="property-row">
                        <span class="property-label">Opacity</span>
                        <input type="number" class="property-input" id="opacity" value="1" min="0" max="1" step="0.1">
                    </div>
                    <div class="property-row">
                        <span class="property-label">X</span>
                        <input type="number" class="property-input" id="posX" value="0" step="1">
                    </div>
                    <div class="property-row">
                        <span class="property-label">Y</span>
                        <input type="number" class="property-input" id="posY" value="0" step="1">
                    </div>
                    <div class="property-row">
                        <span class="property-label">Width</span>
                        <input type="number" class="property-input" id="shapeWidth" value="0" step="1">
                    </div>
                    <div class="property-row">
                        <span class="property-label">Height</span>
                        <input type="number" class="property-input" id="shapeHeight" value="0" step="1">
                    </div>
                </div>
            </section>

            <section class="panel-section layers-panel">
                <div class="panel-header">Layers</div>
                <div id="layersList"></div>
            </section>
        </aside>
    </div>

    <footer class="status-bar">
        <span id="statusText">Ready</span>
        <span id="cursorPos">X: 0, Y: 0</span>
        <span id="zoomLevel">Zoom: 100%</span>
    </footer>

    <div class="mobile-help" id="mobileHelp">
        <div>ðŸ“± <strong>Touch Gestures:</strong></div>
        <div style="margin-top: 4px;">Two fingers: Pinch to zoom</div>
        <div>Two fingers: Drag to pan</div>
        <div style="margin-top: 4px;">Tap âš™ for properties</div>
        <button class="mobile-help-close" onclick="app.closeMobileHelp()">Got it</button>
    </div>

    <script src="script.js"></script>
</body>
</html>