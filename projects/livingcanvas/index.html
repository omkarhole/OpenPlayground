<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LivingCanvas | Cellular Automata Art</title>
    <!-- CSS Imports -->
    <link rel="stylesheet" href="styles/theme.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/animations.css">
    <style>
        /* Extra styles that might be needed for new controls */
        #about-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid var(--color-accent);
            padding: 20px;
            border-radius: 8px;
            z-index: 100;
            max-width: 400px;
            text-align: left;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
        }

        #about-overlay.hidden {
            display: none;
        }

        #about-overlay h2 {
            margin-bottom: 10px;
            color: var(--color-accent);
        }

        #about-overlay li {
            margin-bottom: 5px;
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- Header / Controls -->
        <header class="ui-header">
            <h1 class="logo">User<span>LivingCanvas</span></h1>
            <div class="controls-top">
                <button id="btn-play" class="btn-icon" title="Play/Pause (Space)">
                    <span class="icon-play">â–¶</span>
                </button>
                <button id="btn-step" class="btn-icon" title="Step Forward (S)">
                    <span class="icon-step">â¯</span>
                </button>
                <button id="btn-clear" class="btn-icon" title="Clear Grid (R)">
                    <span class="icon-trash">ğŸ—‘</span>
                </button>
                <button id="btn-random" class="btn-icon" title="Randomize (Shift+R)">
                    <span class="icon-random">ğŸ²</span>
                </button>
                <button id="btn-theme" class="btn-icon" title="Cycle Themes">
                    <span class="icon-theme">ğŸ¨</span>
                </button>
                <button id="btn-info" class="btn-icon" title="Controls Info">
                    <span class="icon-info">â„¹ï¸</span>
                </button>
            </div>
            <div class="controls-settings">
                <label for="speed-slider">Speed</label>
                <input type="range" id="speed-slider" min="1" max="60" value="30">
            </div>
        </header>

        <!-- Main Canvas Area -->
        <main class="canvas-container">
            <canvas id="simulation-canvas"></canvas>
            <div class="overlay-info" id="stats-overlay">
                Generation: <span id="gen-count">0</span> | Population: <span id="pop-count">0</span>
            </div>

            <div id="about-overlay" class="hidden">
                <h2>Controls</h2>
                <ul>
                    <li><strong>Draw:</strong> Left Click + Drag</li>
                    <li><strong>Erase:</strong> Select Eraser</li>
                    <li><strong>Play/Pause:</strong> Spacebar</li>
                    <li><strong>Step:</strong> S key</li>
                    <li><strong>Clear:</strong> R key</li>
                    <li><strong>Cycle Theme:</strong> Click Palette Icon</li>
                </ul>
                <p style="margin-top:10px; font-size: 0.8em; color: #888;">Click to close</p>
            </div>
        </main>

        <!-- Tool / Brush Selector -->
        <footer class="ui-footer">
            <div class="brush-selector">
                <button class="brush-btn active" data-brush="draw" title="Draw Cells (1)">
                    <span class="brush-icon">âœï¸</span> Draw
                </button>
                <button class="brush-btn" data-brush="erase" title="Erase Cells (2)">
                    <span class="brush-icon">ğŸ§¹</span> Erase
                </button>
                <button class="brush-btn" data-brush="glider" title="Glider Pattern (3)">
                    <span class="brush-icon">ğŸš€</span> Glider
                </button>
                <button class="brush-btn" data-brush="spaceship" title="Spaceship Pattern">
                    <span class="brush-icon">ğŸ›¸</span> Ship
                </button>
                <button class="brush-btn" data-brush="gosperGun" title="Gosper Glider Gun">
                    <span class="brush-icon">ğŸ”«</span> Gun
                </button>
                <button class="brush-btn" data-brush="pulsar" title="Pulsar Oscillator">
                    <span class="brush-icon">ğŸ”†</span> Pulsar
                </button>
                <button class="brush-btn" data-brush="galaxy" title="Kok's Galaxy">
                    <span class="brush-icon">ğŸŒŒ</span> Galaxy
                </button>
            </div>
        </footer>
    </div>

    <!-- JS Imports (Order Matters) -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/grid.js"></script>
    <script src="js/patterns.js"></script>
    <script src="js/presets.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/themes.js"></script> <!-- New Module -->
    <script src="js/renderer.js"></script>
    <script src="js/input.js"></script>
    <script src="js/loop.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/keyboard.js"></script>
    <script src="js/main.js"></script>
</body>

</html>