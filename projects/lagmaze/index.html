<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LagMaze - Delayed Reality</title>

    <!-- CSS - Loading order matters -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
</head>

<body>
    <div id="app">
        <div id="ui-layer">
            <div id="hud" class="hidden">
                <div class="top-bar">
                    <div id="level-display">Level: <span id="current-level">1</span></div>
                    <div id="timer-display">Time: <span id="elapsed-time">00:00</span></div>
                </div>

                <div id="timeline-container">
                    <div class="timeline-label">INPUT DELAY: <span id="delay-ms">1000</span>ms</div>
                    <div id="timeline-track">
                        <!-- Input markers will be injected here -->
                        <div id="timeline-cursor"></div>
                    </div>
                </div>
            </div>

            <div id="menu-overlay">
                <h1 class="glitch" data-text="LagMaze">LagMaze</h1>
                <p class="subtitle">Navigate the past to survive the future.</p>
                <div class="menu-controls">
                    <button id="btn-start" class="glitch-btn">INITIALIZE SEQUENCE</button>
                    <button id="btn-tutorial" class="secondary-btn">HOW TO PLAY</button>
                </div>
                <div id="tutorial-panel" class="hidden">
                    <h2>Directives</h2>
                    <p>Your inputs are delayed by <span class="highlight">1 second</span>.</p>
                    <p>Plan your moves ahead. Trust your memory.</p>
                    <p>Navigate to the <span class="goal-text">GOAL</span>.</p>
                    <button id="btn-close-tutorial">ACKNOWLEDGE</button>
                </div>
            </div>

            <div id="game-over-overlay" class="hidden">
                <h2 class="glitch" data-text="SIGNAL LOST">SIGNAL LOST</h2>
                <p>Temporal desynchronization detected.</p>
                <button id="btn-retry" class="glitch-btn">RETRY SEQUENCE</button>
            </div>

            <div id="victory-overlay" class="hidden">
                <h2 class="glitch" data-text="SYNCHRONIZED">SYNCHRONIZED</h2>
                <p>Timeline stabilized.</p>
                <button id="btn-next-level" class="glitch-btn">PROCEED</button>
            </div>
        </div>

        <canvas id="game-canvas"></canvas>
        <div id="crt-overlay"></div>
    </div>

    <!-- JavaScript - Order matters for dependencies -->
    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/levels.js"></script>
    <script src="js/input.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>

</html>