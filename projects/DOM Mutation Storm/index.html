<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DOM Mutation Storm</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>DOM Mutation Storm</h1>
  <p>A lab for visualizing DOM mutation chaos in real time.</p>
</header>

<section class="controls">
  <button id="btnAdd">Add Nodes</button>
  <button id="btnRemove">Remove Nodes</button>
  <button id="btnUpdate">Update Text</button>
  <button id="btnAttributes">Change Attributes</button>
  <button id="btnBatch">Batch Update</button>
  <button id="btnClear">Clear</button>
  <button id="btnFreeze" class="btn-freeze">‚è∏Ô∏è Freeze Observer</button>
  <button id="btnExportJSON" class="btn-export">üìä Export JSON</button>
  <button id="btnExportCSV" class="btn-export">üìÑ Export CSV</button>
</section>

<section class="toggles">
  <label>
    <input type="checkbox" id="toggleObserver" checked>
    Observer Active
  </label>

  <label>
    <input type="checkbox" id="toggleThrottle">
    Throttle Mutations
  </label>

  <label>
    <input type="checkbox" id="toggleDebounce">
    Debounce Mutations
  </label>
</section>

<section class="stats">
  <div>Total Mutations: <span id="totalCount">0</span></div>
  <div>Mutations/sec: <span id="rateCount">0</span></div>
  <div>ChildList: <span id="childCount">0</span></div>
  <div>Attributes: <span id="attrCount">0</span></div>
  <div>CharacterData: <span id="charCount">0</span></div>
  <div class="cost-score">
    Cost Score: <span id="costScore">0</span>
    <div class="danger-meter">
      <div id="dangerBar" class="danger-bar"></div>
    </div>
  </div>
  <div>Last Source: <span id="lastSource">None</span></div>
</section>

<section class="charts">
  <h3>Mutation Rate (per second)</h3>
  <canvas id="rateChart" width="600" height="150"></canvas>
</section>

<section class="observer-comparison">
  <h3>Observer Comparison</h3>
  <div class="comparison-grid">
    <div class="observer-stats">
      <h4>Subtree Observer (All Levels)</h4>
      <div>Mutations: <span id="subtreeCount">0</span></div>
    </div>
    <div class="observer-stats">
      <h4>Direct Children Only</h4>
      <div>Mutations: <span id="directCount">0</span></div>
    </div>
  </div>
</section>

<section class="layout">
  <aside class="log">
    <h2>Mutation Log</h2>
    <ul id="logList"></ul>
  </aside>

  <main id="playground" class="playground">
  </main>
</section>

<footer>
  <p>Built with vanilla HTML, CSS, and JavaScript.</p>
</footer>

<script src="script.js"></script>
</body>
</html>
