/**
 * =============================================================================
 * CLAPFLASH - GLOBAL STYLESHEET (main.css)
 * =============================================================================
 * 
 * PROJECT OVERVIEW:
 * ClapFlash is a high-performance, sound-dependent experimental web interface.
 * Its primary purpose is to translate physical impulses (claps) into immediate
 * visual feedback (lightning flashes).
 * 
 * DESIGN PHILOSOPHY:
 * The design language follows "Brutalist Minimalism" mixed with "Cinematic
 * Atmospheric" cues. We use deep blacks (#050505) to ensure maximum contrast
 * when the white flash occurs. This serves to increase the perceived intensity
 * of the flash without requiring retinal-damaging brightness levels.
 * 
 * TYPOGRAPHY:
 * - Headlines: 'Outfit' (Geometric, modern, high legibility)
 * - Body: 'Inter' (Optimized for digital screens, neutral)
 * 
 * PERFORMANCE NOTES:
 * - We prioritize GPU-accelerated properties (transform, opacity).
 * - Avoid heavy filters on frequently updated elements.
 * - Use requestAnimationFrame for all visual updates.
 * 
 * -----------------------------------------------------------------------------
 * 1. DESIGN TOKENS (SYSTEM VARIABLES)
 * -----------------------------------------------------------------------------
 */

:root {
    /* 
     * PRIMARY COLOR PALETTE 
     * Our background is almost total black to maximize the "Light-Dark" delta.
     */
    --clr-bg: #050505;
    --clr-bg-gradient-inner: #0a0a0c;
    --clr-bg-gradient-outer: #050505;

    /* 
     * SURFACE COLORS 
     * Used for cards, panels, and dashboard elements.
     */
    --clr-surface: #0f0f12;
    --clr-surface-light: #1a1a1f;
    --clr-surface-border: rgba(255, 255, 255, 0.05);

    /* 
     * BRAND COLORS 
     * Pure white is the primary color for the flash itself.
     * Accent cyan is used for digital meters and statuses.
     */
    --clr-primary: #ffffff;
    --clr-accent: #00d4ff;
    --clr-accent-glow: rgba(0, 212, 255, 0.3);
    --clr-danger: #ff3e3e;

    /* 
     * TEXT COLORS 
     * High hierarchy vs Muted descriptive text.
     */
    --clr-text-main: #e0e0e0;
    --clr-text-bright: #ffffff;
    --clr-text-muted: #666666;
    --clr-text-dim: #444444;

    /* 
     * GRADIENTS & OVERLAYS 
     */
    --grad-glow: radial-gradient(circle at center, rgba(0, 212, 255, 0.12) 0%, transparent 70%);
    --grad-dashboard: linear-gradient(135deg, var(--clr-surface) 0%, #0a0a0c 100%);

    /* 
     * FONT STACKS 
     */
    --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-heading: 'Outfit', 'Inter', sans-serif;

    /* 
     * TRANSITION TIMINGS 
     * Smoothness is key to the "premium" feel.
     */
    --trans-ultra-fast: 0.1s cubic-bezier(0.1, 1, 0.1, 1);
    --trans-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --trans-smooth: 0.6s cubic-bezier(0.23, 1, 0.32, 1);
    --trans-cinematic: 1.2s cubic-bezier(0.19, 1, 0.22, 1);
    --trans-fade: opacity 1.5s ease-in-out;

    /* 
     * SPACING SYSTEM (8px Grid)
     */
    --space-2xs: 0.25rem;
    /* 4px */
    --space-xs: 0.5rem;
    /* 8px */
    --space-sm: 1rem;
    /* 16px */
    --space-md: 2rem;
    /* 32px */
    --space-lg: 4rem;
    /* 64px */
    --space-xl: 8rem;
    /* 128px */

    /* 
     * BORDER RADII 
     */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 16px;
    --radius-full: 9999px;
}

/**
 * 2. BASE RESET & BOX MODEL
 * -----------------------------------------------------------------------------
 * Ensuring consistency across different browser engines.
 */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    /* Mobile optimization */
}

/* Scrollbar styling for a cleaner look */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: var(--clr-bg);
}

::-webkit-scrollbar-thumb {
    background: var(--clr-surface-light);
    border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--clr-text-dim);
}

html,
body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    /* Prevent bouncing on mobile/overscroll */
    background-color: var(--clr-bg);
    color: var(--clr-text-main);
    font-family: var(--font-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body.dark-theme {
    /* Subtle radial gradient to avoid "flat" OLED black */
    background: radial-gradient(circle at 50% 50%, var(--clr-bg-gradient-inner) 0%, var(--clr-bg-gradient-outer) 100%);
    cursor: default;
    user-select: none;
    /* Prevents accidental text selection during interaction */
}

/**
 * 3. CORE LAYOUT COMPONENTS
 * -----------------------------------------------------------------------------
 */

#app-container {
    position: relative;
    z-index: 10;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-md);
    text-align: center;
    /* Hardware acceleration for layout shifts */
    will-change: transform;
    opacity: 1;
    transition: var(--trans-smooth);
}

/* App Header Section */
.app-header {
    margin-bottom: var(--space-lg);
    animation: fade-in-up 1s var(--trans-smooth) both;
}

.logo {
    font-family: var(--font-heading);
    font-size: clamp(3rem, 12vw, 6rem);
    font-weight: 600;
    letter-spacing: 0.25em;
    color: var(--clr-primary);
    text-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
    line-height: 1;
    margin-bottom: var(--space-xs);
}

.highlight {
    color: transparent;
    -webkit-text-stroke: 1px var(--clr-primary);
    /* Subtle glow on the hollow text */
    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.3));
}

.subtitle {
    font-family: var(--font-heading);
    font-size: 0.85rem;
    color: var(--clr-text-muted);
    letter-spacing: 0.5em;
    text-transform: uppercase;
    margin-top: var(--space-xs);
    opacity: 0.8;
}

/**
 * 4. AMBIENT BACKGROUND SYSTEM
 * -----------------------------------------------------------------------------
 * These elements provide depth and "air" to the dark void.
 */

.ambient-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
    overflow: hidden;
}

.glow-orb {
    position: absolute;
    width: 80vh;
    height: 80vh;
    background: var(--grad-glow);
    border-radius: 50%;
    filter: blur(120px);
    opacity: 0.2;
    transition: opacity 2s ease-in-out;
}

#glow-1 {
    top: -20%;
    left: -10%;
    animation: drift-1 30s infinite alternate ease-in-out;
}

#glow-2 {
    bottom: -20%;
    right: -10%;
    animation: drift-2 45s infinite alternate ease-in-out;
}

/* SVG Texture for realistic film grain */
.noise-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJuIj48ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iMC42NSIgbnVtT2N0YXZlcz0iMyIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbHRlcj0idXJsKCNuKSIgb3BhY2l0eT0iMC4wNSIvPjwvc3ZnPg==');
    opacity: 0.4;
    mix-blend-mode: overlay;
}

/**
 * 5. ANIMATION KEYFRAMES
 * -----------------------------------------------------------------------------
 */

@keyframes drift-1 {
    from {
        transform: translate(0, 0) scale(1);
    }

    to {
        transform: translate(10%, 5%) scale(1.1);
    }
}

@keyframes drift-2 {
    from {
        transform: translate(0, 0) rotate(0deg);
    }

    to {
        transform: translate(-5%, -10%) rotate(20deg);
    }
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/**
 * 6. UTILITY CLASSES
 * -----------------------------------------------------------------------------
 */

.hidden {
    display: none !important;
}

.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}

.no-select {
    user-select: none;
}

.flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Responsive Handling */
@media (max-width: 768px) {
    :root {
        --space-md: 1.5rem;
        --space-lg: 2.5rem;
    }

    .logo {
        font-size: 3.5rem;
    }

    .subtitle {
        letter-spacing: 0.3em;
        font-size: 0.75rem;
    }
}

/**
 * END OF FILE (main.css)
 */