<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark/light mode">
  <svg class="sun" viewBox="0 0 24 24" width="20" height="20">
    <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2" fill="none" />
    <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2" />
    <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2" />
    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2" />
    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" />
    <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2" />
    <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" />
    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2" />
    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2" />
  </svg>
  <svg class="moon" viewBox="0 0 24 24" width="20" height="20">
    <path d="M21 12.79A9 9 0 1 1 11.21 3 
             7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" fill="none" />
  </svg>
</button>
<header>
  <h1>3D Model Selector V2</h1>
  <p class="lead">Interactive WebGL geometry, material, environment, and background previews in native select options</p>
  <p class="description">3D configurator showcasing Chrome 135+'s appearance: base-select. Live Three.js scenes render directly inside native select dropdowns with coordinated controls for geometry, materials, lighting environments and backgrounds.
</header>
<main>
  <div class="unsupported-message">
    Your browser doesn't support <code>appearance: base-select</code>. Please use Chrome 135+ to see the interactive 3D previews in the select dropdown.
  </div>
  <div class="controls">
    <div class="form-group">
      <label for="modelSelect">Choose a 3D Model</label>
      <select id="modelSelect" aria-label="Select a 3D model to preview">
        <button type="button">
          <selectedcontent>
            <div class="selected-button-content">Select a model...</div>
          </selectedcontent>
          <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m19 9-7 7-7-7" />
          </svg>
        </button>
      </select>
    </div>
    <div class="form-group">
      <label for="materialSelect">Choose Material Style</label>
      <select id="materialSelect" aria-label="Select a material style">
        <button type="button">
          <selectedcontent>
            <div class="selected-button-content">Select a material...</div>
          </selectedcontent>
          <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m19 9-7 7-7-7" />
          </svg>
        </button>
      </select>
    </div>
    <div class="form-group">
      <label for="environmentSelect">Choose Environment</label>
      <select id="environmentSelect" aria-label="Select an environment">
        <button type="button">
          <selectedcontent>
            <div class="selected-button-content">Select an environment...</div>
          </selectedcontent>
          <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m19 9-7 7-7-7" />
          </svg>
        </button>
      </select>
    </div>
    <div class="form-group">
      <label for="backgroundSelect">Choose Background</label>
      <select id="backgroundSelect" aria-label="Select a background">
        <button type="button">
          <selectedcontent>
            <div class="selected-button-content">Select a background...</div>
          </selectedcontent>
          <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="m19 9-7 7-7-7" />
          </svg>
        </button>
      </select>
    </div>
  </div>

  <div class="preview-section">
    <h2>Preview</h2>
    <div class="selected-preview">
      <canvas class="selected-canvas" id="selectedCanvas" aria-label="3D model preview"></canvas>
    </div>
    <div class="selected-info" id="selectedInfo">
      Select a 3D model to preview
    </div>
    <button class="info-toggle" id="infoToggle" aria-label="Show technical details" title="Show technical details">
      <span>i</span>
    </button>
    <div class="tech-details" id="techDetails" role="region" aria-live="polite" hidden>
      <h3>Technical Details</h3>
      <dl id="techDetailsList">
        <dt>Type:</dt>
        <dd id="geometry-type">—</dd>
        <dt>Vertices:</dt>
        <dd id="vertices">—</dd>
        <dt>Faces:</dt>
        <dd id="faces">—</dd>
        <dt>Material:</dt>
        <dd id="material">—</dd>
        <dt>Environment:</dt>
        <dd id="environment">—</dd>
        <dt>Background:</dt>
        <dd id="background">—</dd>
        <dt>Renderer:</dt>
        <dd>WebGL</dd>
        <dt>Library:</dt>
        <dd>Three.js r128</dd>
      </dl>
    </div>
  </div>
</main>
<footer>
  <div class="resources-layer">
    <div class="resources">
      <a href="https://www.lessrain.com" target="_blank" rel="noopener">Less Rain GmbH</a>
      <a href="https://codepen.io/collection/vOBVrG" target="_top">Codepen Challenges Collection</a>
    </div>
  </div>
</footer>
<script href="app.js"></script>
</body>
</html>