<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LagIsTheEnemy - Master the Delay</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="game-header">
            <h1>üéÆ LAG IS THE ENEMY</h1>
            <p class="tagline">Lag is not a bug. Lag is the mechanic.</p>
        </header>

        <!-- Main Game Area -->
        <div class="game-layout">
            <!-- Left Panel - Controls & Info -->
            <aside class="left-panel">
                <div class="panel-section">
                    <h2>Game Mode</h2>
                    <div class="mode-selector">
                        <button class="mode-btn active" data-mode="training">Training</button>
                        <button class="mode-btn" data-mode="adaptive">Adaptive</button>
                        <button class="mode-btn" data-mode="perfect">Perfect Play</button>
                        <button class="mode-btn" data-mode="endurance">Endurance</button>
                        <button class="mode-btn" data-mode="custom">Custom</button>
                    </div>
                </div>

                <div class="panel-section">
                    <h2>Lag Profile</h2>
                    <div class="lag-selector">
                        <button class="lag-btn active" data-lag="constant">Constant</button>
                        <button class="lag-btn" data-lag="spike">Spikes</button>
                        <button class="lag-btn" data-lag="jitter">Jitter</button>
                        <button class="lag-btn" data-lag="packetLoss">Packet Loss</button>
                        <button class="lag-btn" data-lag="progressive">Progressive</button>
                    </div>
                </div>

                <div class="panel-section custom-config" style="display: none;">
                    <h2>Custom Settings</h2>
                    <div class="config-item">
                        <label>Base Delay (ms): <span id="delayValue">200</span></label>
                        <input type="range" id="baseDelay" min="0" max="1000" value="200" step="50">
                    </div>
                    <div class="config-item">
                        <label>Spike Probability: <span id="spikeValue">0.1</span></label>
                        <input type="range" id="spikeProbability" min="0" max="1" value="0.1" step="0.05">
                    </div>
                    <div class="config-item">
                        <label>Drop Rate: <span id="dropValue">0.0</span></label>
                        <input type="range" id="dropRate" min="0" max="0.5" value="0" step="0.05">
                    </div>
                </div>

                <div class="panel-section">
                    <h2>Current Stats</h2>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">Score</span>
                            <span class="stat-value" id="currentScore">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Accuracy</span>
                            <span class="stat-value" id="accuracy">100%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Prediction</span>
                            <span class="stat-value" id="predictionScore">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Current Lag</span>
                            <span class="stat-value" id="currentLag">0ms</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Avg Lag</span>
                            <span class="stat-value" id="avgLag">0ms</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Combo</span>
                            <span class="stat-value" id="combo">0</span>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <button id="startBtn" class="action-btn start-btn">START GAME</button>
                    <button id="resetBtn" class="action-btn reset-btn" style="display: none;">RESET</button>
                </div>
            </aside>

            <!-- Center - Game Canvas -->
            <main class="game-canvas-container">
                <div class="game-info">
                    <div class="game-timer">Time: <span id="timer">0.0</span>s</div>
                    <div class="game-level">Wave: <span id="wave">1</span></div>
                </div>
                <canvas id="gameCanvas"></canvas>
                <div class="lag-indicator">
                    <div class="lag-bar-container">
                        <div class="lag-bar" id="lagBar"></div>
                    </div>
                    <div class="lag-text">Input Delay: <span id="lagDisplay">0ms</span></div>
                </div>
                <div class="game-instructions" id="instructions">
                    <h3>How to Play</h3>
                    <p>üéØ Click the targets as they appear</p>
                    <p>‚è±Ô∏è Your input is delayed by the current lag profile</p>
                    <p>üéì Learn to predict where you need to click BEFORE the lag</p>
                    <p>‚≠ê Higher prediction accuracy = Higher score multipliers</p>
                    <p>üî• Build combos by hitting targets consecutively</p>
                </div>
                <div class="game-over-screen" id="gameOver" style="display: none;">
                    <h2>Game Over!</h2>
                    <div class="final-stats">
                        <p>Final Score: <span id="finalScore">0</span></p>
                        <p>Accuracy: <span id="finalAccuracy">0%</span></p>
                        <p>Prediction Mastery: <span id="finalPrediction">0</span></p>
                        <p>Best Combo: <span id="bestCombo">0</span></p>
                        <p>Average Lag: <span id="finalAvgLag">0ms</span></p>
                    </div>
                    <button id="playAgainBtn" class="action-btn">PLAY AGAIN</button>
                </div>
            </main>

            <!-- Right Panel - Performance Analytics -->
            <aside class="right-panel">
                <div class="panel-section">
                    <h2>Performance Graph</h2>
                    <canvas id="performanceGraph"></canvas>
                </div>

                <div class="panel-section">
                    <h2>Lag Timeline</h2>
                    <canvas id="lagTimeline"></canvas>
                </div>

                <div class="panel-section">
                    <h2>Session History</h2>
                    <div class="history-list" id="sessionHistory">
                        <p class="empty-state">No sessions yet</p>
                    </div>
                </div>

                <div class="panel-section">
                    <h2>Achievements</h2>
                    <div class="achievements-list">
                        <div class="achievement" id="achievement1">
                            <span class="achievement-icon">üéØ</span>
                            <span class="achievement-name">First Blood</span>
                            <span class="achievement-desc">Hit first target</span>
                        </div>
                        <div class="achievement" id="achievement2">
                            <span class="achievement-icon">üî•</span>
                            <span class="achievement-name">Combo King</span>
                            <span class="achievement-desc">10 hit combo</span>
                        </div>
                        <div class="achievement" id="achievement3">
                            <span class="achievement-icon">üéì</span>
                            <span class="achievement-name">Predictor</span>
                            <span class="achievement-desc">90%+ prediction</span>
                        </div>
                        <div class="achievement" id="achievement4">
                            <span class="achievement-icon">‚ö°</span>
                            <span class="achievement-name">Speed Demon</span>
                            <span class="achievement-desc">Perfect under 500ms lag</span>
                        </div>
                        <div class="achievement" id="achievement5">
                            <span class="achievement-icon">üëë</span>
                            <span class="achievement-name">Lag Master</span>
                            <span class="achievement-desc">Score 1000+</span>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="game-footer">
            <p>Master the delay. Become the prediction king. üéÆ</p>
            <p class="version">v1.0.0 | LagIsTheEnemy ¬© 2026</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
