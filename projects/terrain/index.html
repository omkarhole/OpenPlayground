<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terrain Erosion Simulator</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/controls.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">Terrain Erosion Simulator</h1>
            <p class="subtitle">Procedural Mountain Generation with Hydraulic Erosion</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Canvas Container -->
            <div class="canvas-wrapper">
                <canvas id="terrainCanvas"></canvas>
                <div class="stats-overlay">
                    <div class="stat-item">
                        <span class="stat-label">Erosion Years:</span>
                        <span class="stat-value" id="yearsSimulated">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Iterations:</span>
                        <span class="stat-value" id="iterationCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Status:</span>
                        <span class="stat-value" id="simulationStatus">Ready</span>
                    </div>
                </div>
            </div>

            <!-- Control Panel -->
            <aside class="control-panel">
                <section class="control-section">
                    <h2 class="section-title">Terrain Generation</h2>
                    
                    <div class="control-group">
                        <label for="terrainSize">Grid Size</label>
                        <div class="input-row">
                            <input type="range" id="terrainSize" min="64" max="256" step="32" value="128">
                            <span class="value-display" id="terrainSizeValue">128</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="terrainScale">Scale</label>
                        <div class="input-row">
                            <input type="range" id="terrainScale" min="20" max="100" step="5" value="50">
                            <span class="value-display" id="terrainScaleValue">50</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="octaves">Detail (Octaves)</label>
                        <div class="input-row">
                            <input type="range" id="octaves" min="1" max="8" step="1" value="4">
                            <span class="value-display" id="octavesValue">4</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="roughness">Roughness</label>
                        <div class="input-row">
                            <input type="range" id="roughness" min="0.3" max="0.7" step="0.05" value="0.5">
                            <span class="value-display" id="roughnessValue">0.5</span>
                        </div>
                    </div>

                    <button id="generateBtn" class="btn btn-primary">Generate New Terrain</button>
                </section>

                <section class="control-section">
                    <h2 class="section-title">Erosion Simulation</h2>
                    
                    <div class="control-group">
                        <label for="erosionStrength">Erosion Strength</label>
                        <div class="input-row">
                            <input type="range" id="erosionStrength" min="0.1" max="1.0" step="0.1" value="0.5">
                            <span class="value-display" id="erosionStrengthValue">0.5</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="rainAmount">Rain Intensity</label>
                        <div class="input-row">
                            <input type="range" id="rainAmount" min="0.5" max="2.0" step="0.1" value="1.0">
                            <span class="value-display" id="rainAmountValue">1.0</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="evaporationRate">Evaporation Rate</label>
                        <div class="input-row">
                            <input type="range" id="evaporationRate" min="0.01" max="0.1" step="0.01" value="0.05">
                            <span class="value-display" id="evaporationRateValue">0.05</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="simulationSpeed">Speed (Years/Sec)</label>
                        <div class="input-row">
                            <input type="range" id="simulationSpeed" min="100" max="2000" step="100" value="500">
                            <span class="value-display" id="simulationSpeedValue">500</span>
                        </div>
                    </div>

                    <div class="button-group">
                        <button id="startBtn" class="btn btn-success">Start Erosion</button>
                        <button id="pauseBtn" class="btn btn-warning" disabled>Pause</button>
                        <button id="resetBtn" class="btn btn-secondary">Reset</button>
                    </div>
                </section>

                <section class="control-section">
                    <h2 class="section-title">Visualization</h2>
                    
                    <div class="control-group">
                        <label for="colorScheme">Color Scheme</label>
                        <select id="colorScheme" class="select-input">
                            <option value="realistic">Realistic</option>
                            <option value="heightmap">Height Map</option>
                            <option value="erosion">Erosion Depth</option>
                            <option value="water">Water Flow</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label>
                            <input type="checkbox" id="showRivers" checked>
                            Show Water Flow
                        </label>
                    </div>

                    <div class="control-group">
                        <label>
                            <input type="checkbox" id="show3D">
                            3D View (Isometric)
                        </label>
                    </div>
                </section>

                <section class="info-section">
                    <h3>About</h3>
                    <p>This simulator generates procedural mountain terrain and applies hydraulic erosion simulation. Watch as rain carves realistic valleys and river systems over thousands of simulated years.</p>
                    <p class="info-detail"><strong>Algorithm:</strong> Particle-based hydraulic erosion with sediment transport</p>
                </section>
            </aside>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/noise.js"></script>
    <script src="js/terrain.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
