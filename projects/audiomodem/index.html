<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AudioModem | Acoustic Data Link</title>
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&family=Orbitron:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="app" class="terminal-theme">
        <header class="app-header">
            <h1 class="glitch-text" data-text="AUDIOMODEM v1.0">AUDIOMODEM v1.0</h1>
            <div class="system-status">
                <span class="status-item">CRYPTO: <span class="status-val text-green">READY</span></span>
                <span class="status-item">MODEM: <span id="modem-status"
                        class="status-val text-orange">IDLE</span></span>
                <span class="status-item">LATENCY: <span id="latency-val" class="status-val">-- ms</span></span>
            </div>
        </header>

        <main class="console-grid">
            <!-- Left Panel: Transmission -->
            <section class="panel panel-tx">
                <div class="panel-header">
                    <h2>TRANSMISSION UNIT</h2>
                    <div class="controls-hint">FSK / 1200-2200 Hz</div>
                </div>
                <div class="panel-content">
                    <div class="input-group">
                        <label for="tx-data">PLAIN TEXT PAYLOAD</label>
                        <textarea id="tx-data" placeholder="TYPE MESSAGE TO TRANSMIT..."></textarea>
                    </div>
                    <div class="bit-preview" id="tx-bitstream">
                        <!-- Binary representation will appear here -->
                    </div>
                    <div class="action-bar">
                        <button id="btn-transmit" class="btn btn-primary">INITIATE BROADCAST</button>
                        <button id="btn-clear-tx" class="btn btn-secondary">PURGE BUFFER</button>
                    </div>
                </div>
            </section>

            <!-- Center Panel: Visualization -->
            <section class="panel panel-viz">
                <div class="panel-header">
                    <h2>SIGNAL ANALYSIS</h2>
                </div>
                <div class="panel-content viz-container">
                    <div class="viz-wrapper">
                        <canvas id="canvas-spectrum"></canvas>
                        <div class="viz-label">SPECTRUM ANALYSIS</div>
                    </div>
                    <div class="viz-wrapper">
                        <canvas id="canvas-waterfall"></canvas>
                        <div class="viz-label">SPECTROGRAM (WATERFALL)</div>
                    </div>
                    <div class="viz-wrapper">
                        <canvas id="canvas-waveform"></canvas>
                        <div class="viz-label">TIME DOMAIN COHERENCE</div>
                    </div>
                </div>
                <div class="telemetry-bar">
                    <div class="telemetry-item">
                        <span class="label">SIGNAL STRENGTH</span>
                        <div class="meter-bg">
                            <div id="signal-meter" class="meter-fg"></div>
                        </div>
                    </div>
                    <div class="telemetry-item">
                        <span class="label">PEAK FREQ</span>
                        <span id="peak-freq" class="value">0 Hz</span>
                    </div>
                </div>
            </section>

            <!-- Right Panel: Reception -->
            <section class="panel panel-rx">
                <div class="panel-header">
                    <h2>RECEPTION UNIT</h2>
                    <div class="controls-hint">AUTO-DECODE ACTIVE</div>
                </div>
                <div class="panel-content">
                    <div class="rx-status-indicator">
                        <div id="rx-light" class="indicator-light"></div>
                        <span id="rx-activity">LISTENING...</span>
                    </div>
                    <div class="log-container" id="rx-log">
                        <!-- Decoded text entries -->
                    </div>
                    <div class="action-bar">
                        <button id="btn-start-rx" class="btn btn-primary">SYNC RECEIVER</button>
                        <button id="btn-clear-rx" class="btn btn-secondary">CLEAR LOG</button>
                    </div>
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <div class="footer-note">ACOUSTIC FREQUENCY SHIFT KEYING MODEM // EXPERIMENTAL PROTOCOL</div>
            <div class="system-clock" id="system-clock">00:00:00</div>
        </footer>
    </div>

    <!-- Script loading: Order is important -->
    <script src="js/AudioEngine.js"></script>
    <script src="js/BitStream.js"></script>
    <script src="js/DSP.js"></script>
    <script src="js/Telemetry.js"></script>
    <script src="js/Modulator.js"></script>
    <script src="js/Demodulator.js"></script>
    <script src="js/Visualizer.js"></script>
    <script src="js/App.js"></script>
</body>

</html>