<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
  <header>
    <h1>SVG filter with displacement maps</h2>
      <p>Here are three 'pills' that you can drag around the screen to see their effect on the underlying content. The first is a glass-like effect that offsets and distorts the content underneath using RGB offsets and a displacement map with gradient image.</p>
  </header>

  <section>
    <h2>A smaller header</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In non vehicula arcu. Quisque mauris tortor, aliquam blandit metus in, elementum tempor dui. Vestibulum tempor rhoncus nulla, id viverra mi volutpat a. Proin fringilla ex ut velit malesuada, nec elementum augue posuere. Ut ullamcorper nisi lorem, in congue massa aliquet quis. Mauris eget nibh lorem. Nunc at porttitor magna. Sed vulputate lorem ac magna posuere, eu dignissim nibh efficitur. Nulla ac finibus orci, a tristique augue. Pellentesque consequat dui imperdiet, iaculis magna in, blandit libero.</p>
  </section>

  <section>
    <h2>A smaller header</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In non vehicula arcu. Quisque mauris tortor, aliquam blandit metus in, elementum tempor dui. Vestibulum tempor rhoncus nulla, id viverra mi volutpat a. Proin fringilla ex ut velit malesuada, nec elementum augue posuere. Ut ullamcorper nisi lorem, in congue massa aliquet quis. Mauris eget nibh lorem. Nunc at porttitor magna. Sed vulputate lorem ac magna posuere, eu dignissim nibh efficitur. Nulla ac finibus orci, a tristique augue. Pellentesque consequat dui imperdiet, iaculis magna in, blandit libero.</p>
  </section>
</div>

<div class="effects-container">
  <div class="effect">
    <span class="badge badge--e1">Glass</span>
    <svg class="filter" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="filter" color-interpolation-filters="sRGB">
          <!-- the input displacement image -->
          <feImage x="0" y="0" width="100%" height="100%" result="map" href="data:image/svg+xml,%3Csvg%20class%3D%22displacement-image%22%20viewBox%3D%220%200%20336%2096%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20id%3D%22red%22%20x1%3D%22100%25%22%20y1%3D%220%25%22%20x2%3D%220%25%22%20y2%3D%220%25%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23000%22%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22red%22%2F%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20id%3D%22blue%22%20x1%3D%220%25%22%20y1%3D%220%25%22%20x2%3D%220%25%22%20y2%3D%22100%25%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cstop%20offset%3D%220%25%22%20stop-color%3D%22%23000%22%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22blue%22%2F%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%20%20%3C!--%20backdrop%20--%3E%0A%20%20%20%20%20%20%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22336%22%20height%3D%2296%22%20fill%3D%22black%22%2F%3E%0A%20%20%20%20%20%20%3C!--%20red%20linear%20--%3E%0A%20%20%20%20%20%20%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22336%22%20height%3D%2296%22%20rx%3D%2216%22%20fill%3D%22url(%23red)%22%2F%3E%0A%20%20%20%20%20%20%3C!--%20blue%20linear%20--%3E%0A%20%20%20%20%20%20%3Crect%20x%3D%220%22%20y%3D%220%22%20width%3D%22336%22%20height%3D%2296%22%20rx%3D%2216%22%20fill%3D%22url(%23blue)%22%20style%3D%22mix-blend-mode%3A%20difference%22%2F%3E%0A%20%20%20%20%20%20%3C!--%20block%20out%20distortion%20--%3E%0A%20%20%20%20%20%20%3Crect%20x%3D%223.3600000000000003%22%20y%3D%223.3600000000000003%22%20width%3D%22329.28%22%20height%3D%2289.28%22%20rx%3D%2216%22%20fill%3D%22hsl(0%200%25%2050%25%20%2F%200.93%22%20style%3D%22filter%3Ablur(11px)%22%2F%3E%0A%20%20%20%20%3C%2Fsvg%3E"></feImage>

          <feDisplacementMap in="SourceGraphic" in2="map" id="redchannel" xChannelSelector="R" yChannelSelector="G" result="dispRed" scale="-150" />
          <feColorMatrix in="dispRed" type="matrix" values="1 0 0 0 0
                      0 0 0 0 0
                      0 0 0 0 0
                      0 0 0 1 0" result="red" />

          <feDisplacementMap in="SourceGraphic" in2="map" id="greenchannel" xChannelSelector="R" yChannelSelector="G" result="dispGreen" scale="-160" />
          <feColorMatrix in="dispGreen" type="matrix" values="0 0 0 0 0
                      0 1 0 0 0
                      0 0 0 0 0
                      0 0 0 1 0" result="green" />

          <feDisplacementMap in="SourceGraphic" in2="map" id="bluechannel" xChannelSelector="R" yChannelSelector="G" result="dispBlue" scale="-170" />
          <feColorMatrix in="dispBlue" type="matrix" values="0 0 0 0 0
                      0 0 0 0 0
                      0 0 1 0 0
                      0 0 0 1 0" result="blue" />

          <feBlend in="red" in2="green" mode="screen" result="rg" />
          <feBlend in="rg" in2="blue" mode="screen" result="output" />

          <feGaussianBlur in="output" stdDeviation="0.7" />
        </filter>
      </defs>
    </svg>
  </div>

  <div class="effect2">
    <span class="badge badge--e2">Distortion</span>
    <svg width="0" height="0" aria-hidden="true" style="position:absolute">
      <filter id="warp">
        <!-- 1) Make a noisy displacement map -->
        <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="1" seed="2" result="noise" />

        <!-- 2) Use that noise to push pixels around -->
        <feDisplacementMap in="SourceGraphic" in2="noise" scale="20" xChannelSelector="R" yChannelSelector="G" />
      </filter>
    </svg>
  </div>

  <div class="effect3">
    <span class="badge badge--e3">RGB Displacement</span>
    <svg width="0" height="0" aria-hidden="true" style="position:absolute">
      <filter id="rgb-split" color-interpolation-filters="sRGB">
        <!-- Move the source into 3 copies -->
        <feOffset in="SourceGraphic" dx="-2" dy="0" result="left" />
        <feOffset in="SourceGraphic" dx="2" dy="0" result="right" />

        <!-- Keep only RED from left -->
        <feColorMatrix in="left" type="matrix" values="
      1 0 0 0 0
      0 0 0 0 0
      0 0 0 0 0
      0 0 0 1 0" result="red" />

        <!-- Keep only BLUE from right -->
        <feColorMatrix in="right" type="matrix" values="
      0 0 0 0 0
      0 0 0 0 0
      0 0 1 0 0
      0 0 0 1 0" result="blue" />

        <!-- Keep only GREEN from original -->
        <feColorMatrix in="SourceGraphic" type="matrix" values="
      0 0 0 0 0
      0 1 0 0 0
      0 0 0 0 0
      0 0 0 1 0" result="green" />

        <!-- Add them back together -->
        <feBlend in="red" in2="green" mode="screen" result="rg" />
        <feBlend in="rg" in2="blue" mode="screen" />
      </filter>
    </svg>
  </div>
</div>
<script src="app.js"></script>
</body>
</html>