<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pastel Optical Illusions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --pastel-pink: #ffd6e7;
            --pastel-blue: #c1e3ff;
            --pastel-green: #d4f4dd;
            --pastel-purple: #e2d4f7;
            --pastel-yellow: #fff9c4;
            --pastel-orange: #ffdfba;
            --text-dark: #5a5a5a;
            --text-light: #888;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        body {
            background-color: #f9f7ff;
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--pastel-pink), var(--pastel-purple));
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 5px 15px var(--shadow);
            border-radius: 0 0 25px 25px;
            margin-bottom: 2rem;
        }

        .logo {
            font-size: 2.8rem;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .logo i {
            margin-right: 10px;
            color: #ff85a2;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #6b5b95;
        }

        .tagline {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Navigation */
        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 1.5rem;
        }

        .nav-btn {
            background-color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            color: var(--text-dark);
            transition: all 0.3s ease;
            box-shadow: 0 3px 8px var(--shadow);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px var(--shadow);
        }

        .nav-btn.active {
            background-color: #a78bfa;
            color: white;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 3rem;
        }

        .illusion-container {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 20px var(--shadow);
            transition: transform 0.3s ease;
        }

        .illusion-container:hover {
            transform: translateY(-5px);
        }

        .illusion-title {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: #6b5b95;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .illusion-title i {
            color: #ff85a2;
        }

        .illusion-description {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }

        /* Illusion Display Areas */
        .illusion-display {
            background-color: #f9f9f9;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
            overflow: hidden;
        }

        /* Control Panel */
        .controls {
            background-color: #f5f5f5;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group:last-child {
            margin-bottom: 0;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .slider {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            opacity: 0.9;
            transition: opacity 0.2s;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #a78bfa;
            cursor: pointer;
        }

        .checkbox-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .checkbox-label input {
            cursor: pointer;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--pastel-blue), var(--pastel-green));
            padding: 2rem 0;
            text-align: center;
            border-radius: 25px 25px 0 0;
            margin-top: 2rem;
            color: var(--text-dark);
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-content p {
            margin-bottom: 1rem;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 1rem;
        }

        .social-icons a {
            color: var(--text-dark);
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }

        .social-icons a:hover {
            color: #6b5b95;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .logo {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <i class="fas fa-eye"></i> Optical Illusions
            </div>
            <h1>Explore the Magic of Perception</h1>
            <p class="tagline">Discover how your brain interprets visual information with these interactive pastel-themed optical illusions.</p>
            
            <nav>
                <button class="nav-btn active" data-illusion="spiral">Spiral Illusion</button>
                <button class="nav-btn" data-illusion="motion">Motion Illusion</button>
                <button class="nav-btn" data-illusion="color">Color Illusion</button>
                <button class="nav-btn" data-illusion="size">Size Illusion</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="main-content">
            <div class="illusion-container">
                <h2 class="illusion-title"><i class="fas fa-spinner"></i> Hypnotic Spiral</h2>
                <p class="illusion-description">Stare at the center of the spiral for 20 seconds, then look at a stationary object. You'll experience an interesting aftereffect due to motion adaptation in your visual system.</p>
                
                <div class="illusion-display" id="spiral-display">
                    <canvas id="spiralCanvas" width="400" height="400"></canvas>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="spiral-speed">Spiral Speed</label>
                        <input type="range" min="1" max="10" value="5" class="slider" id="spiral-speed">
                    </div>
                    <div class="control-group">
                        <label for="spiral-density">Spiral Density</label>
                        <input type="range" min="3" max="10" value="5" class="slider" id="spiral-density">
                    </div>
                    <div class="control-group">
                        <label>Color Theme</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="radio" name="spiral-color" value="pastel" checked> Pastel
                            </label>
                            <label class="checkbox-label">
                                <input type="radio" name="spiral-color" value="contrast"> High Contrast
                            </label>
                            <label class="checkbox-label">
                                <input type="radio" name="spiral-color" value="mono"> Monochrome
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="illusion-container">
                <h2 class="illusion-title"><i class="fas fa-running"></i> Motion Illusion</h2>
                <p class="illusion-description">These shapes appear to move, but they're completely static. The illusion of motion is created by the careful arrangement of colors and patterns that confuse your motion detection neurons.</p>
                
                <div class="illusion-display" id="motion-display">
                    <div id="motionPattern"></div>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="motion-intensity">Illusion Intensity</label>
                        <input type="range" min="1" max="10" value="5" class="slider" id="motion-intensity">
                    </div>
                    <div class="control-group">
                        <label>Pattern Type</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="radio" name="pattern-type" value="circles" checked> Circles
                            </label>
                            <label class="checkbox-label">
                                <input type="radio" name="pattern-type" value="squares"> Squares
                            </label>
                            <label class="checkbox-label">
                                <input type="radio" name="pattern-type" value="lines"> Lines
                            </label>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="motion-toggle" checked> Enable Illusion
                        </label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="illusion-container">
                <h2 class="illusion-title"><i class="fas fa-palette"></i> Color Assimilation</h2>
                <p class="illusion-description">The inner squares are the same color, but they appear different due to the surrounding colors. This demonstrates how context affects color perception.</p>
                
                <div class="illusion-display" id="color-display">
                    <div class="color-illusion">
                        <div class="color-block" id="color-block-1"></div>
                        <div class="color-block" id="color-block-2"></div>
                    </div>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="color-intensity">Surround Intensity</label>
                        <input type="range" min="1" max="10" value="5" class="slider" id="color-intensity">
                    </div>
                    <div class="control-group">
                        <label>Inner Color</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="radio" name="inner-color" value="gray" checked> Gray
                            </label>
                            <label class="checkbox-label">
                                <input type="radio" name="inner-color" value="blue"> Blue
                            </label>
                            <label class="checkbox-label">
                                <input type="radio" name="inner-color" value="pink"> Pink
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="illusion-container">
                <h2 class="illusion-title"><i class="fas fa-expand-alt"></i> Size Constancy</h2>
                <p class="illusion-description">The two center circles are the same size, but one appears larger due to the context provided by the surrounding circles. This demonstrates the Ebbinghaus illusion.</p>
                
                <div class="illusion-display" id="size-display">
                    <div class="size-illusion">
                        <div class="size-comparison" id="size-comparison-1"></div>
                        <div class="size-comparison" id="size-comparison-2"></div>
                    </div>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="size-context">Context Size</label>
                        <input type="range" min="1" max="10" value="5" class="slider" id="size-context">
                    </div>
                    <div class="control-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="size-reveal"> Reveal True Size
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container footer-content">
            <p>Optical illusions reveal how our brains interpret visual information, often filling in gaps or making assumptions that don't match reality.</p>
            <p>Explore these illusions to better understand the fascinating workings of human perception.</p>
            
            <div class="social-icons">
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
            </div>
            
            <p style="margin-top: 1.5rem; font-size: 0.9rem;">&copy; 2026 Pastel Optical Illusions. All illusions for educational purposes.</p>
        </div>
    </footer>

    <script>
        // DOM Elements
        const navButtons = document.querySelectorAll('.nav-btn');
        const illusionDisplays = document.querySelectorAll('.illusion-container');
        
        // Navigation between illusions
        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons
                navButtons.forEach(btn => btn.classList.remove('active'));
                // Add active class to clicked button
                button.classList.add('active');
                
                // Show the selected illusion (in a real site, this would show/hide sections)
                // For this demo, we'll just scroll to the relevant section
                const illusionType = button.getAttribute('data-illusion');
                const targetElement = document.getElementById(`${illusionType}-display`);
                targetElement.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Spiral Illusion
        const spiralCanvas = document.getElementById('spiralCanvas');
        const spiralCtx = spiralCanvas.getContext('2d');
        const spiralSpeedSlider = document.getElementById('spiral-speed');
        const spiralDensitySlider = document.getElementById('spiral-density');
        const spiralColorRadios = document.querySelectorAll('input[name="spiral-color"]');
        
        let spiralRotation = 0;
        let spiralColors = [
            '#ffd6e7', // pastel pink
            '#c1e3ff', // pastel blue
            '#d4f4dd', // pastel green
            '#e2d4f7', // pastel purple
            '#fff9c4', // pastel yellow
            '#ffdfba'  // pastel orange
        ];
        
        function drawSpiral() {
            const width = spiralCanvas.width;
            const height = spiralCanvas.height;
            const centerX = width / 2;
            const centerY = height / 2;
            
            // Clear canvas
            spiralCtx.clearRect(0, 0, width, height);
            
            // Get current values
            const speed = parseInt(spiralSpeedSlider.value) / 20;
            const density = parseInt(spiralDensitySlider.value);
            const colorMode = document.querySelector('input[name="spiral-color"]:checked').value;
            
            // Update colors based on selection
            let currentColors = [...spiralColors];
            if (colorMode === 'contrast') {
                currentColors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF'];
            } else if (colorMode === 'mono') {
                currentColors = ['#E0E0E0', '#C0C0C0', '#A0A0A0', '#808080', '#606060', '#404040'];
            }
            
            // Draw spiral
            spiralRotation += speed;
            
            for (let i = 0; i < 200; i++) {
                const angle = 0.1 * i + spiralRotation;
                const radius = density * i;
                
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                
                // Color based on position
                const colorIndex = i % currentColors.length;
                
                // Draw spiral dot
                spiralCtx.beginPath();
                spiralCtx.arc(x, y, 4, 0, Math.PI * 2);
                spiralCtx.fillStyle = currentColors[colorIndex];
                spiralCtx.fill();
                
                // Draw connecting line for continuous effect
                if (i > 0) {
                    const prevAngle = 0.1 * (i - 1) + spiralRotation;
                    const prevRadius = density * (i - 1);
                    const prevX = centerX + prevRadius * Math.cos(prevAngle);
                    const prevY = centerY + prevRadius * Math.sin(prevAngle);
                    
                    spiralCtx.beginPath();
                    spiralCtx.moveTo(prevX, prevY);
                    spiralCtx.lineTo(x, y);
                    spiralCtx.strokeStyle = currentColors[colorIndex];
                    spiralCtx.lineWidth = 2;
                    spiralCtx.stroke();
                }
            }
            
            // Draw center point
            spiralCtx.beginPath();
            spiralCtx.arc(centerX, centerY, 8, 0, Math.PI * 2);
            spiralCtx.fillStyle = '#6b5b95';
            spiralCtx.fill();
            
            requestAnimationFrame(drawSpiral);
        }
        
        // Motion Illusion
        const motionDisplay = document.getElementById('motionPattern');
        const motionIntensitySlider = document.getElementById('motion-intensity');
        const motionPatternRadios = document.querySelectorAll('input[name="pattern-type"]');
        const motionToggle = document.getElementById('motion-toggle');
        
        function createMotionPattern() {
            const intensity = parseInt(motionIntensitySlider.value);
            const patternType = document.querySelector('input[name="pattern-type"]:checked').value;
            const isEnabled = motionToggle.checked;
            
            motionDisplay.innerHTML = '';
            
            // Create container for pattern
            const patternContainer = document.createElement('div');
            patternContainer.style.display = 'flex';
            patternContainer.style.flexWrap = 'wrap';
            patternContainer.style.justifyContent = 'center';
            patternContainer.style.alignItems = 'center';
            patternContainer.style.width = '100%';
            patternContainer.style.height = '100%';
            patternContainer.style.gap = '10px';
            
            // Number of elements based on intensity
            const elementCount = 20 + intensity * 5;
            
            for (let i = 0; i < elementCount; i++) {
                const element = document.createElement('div');
                
                // Size and position
                const size = 20 + (i % 5) * 10;
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                
                // Color based on position
                const hue = (i * 20) % 360;
                element.style.backgroundColor = `hsl(${hue}, 70%, 80%)`;
                
                // Border radius based on pattern type
                if (patternType === 'circles') {
                    element.style.borderRadius = '50%';
                } else if (patternType === 'squares') {
                    element.style.borderRadius = '5px';
                } else {
                    element.style.borderRadius = '0';
                    element.style.transform = `rotate(${i * 15}deg)`;
                }
                
                // Motion effect if enabled
                if (isEnabled) {
                    // Create subtle pulsing effect
                    const pulseIntensity = intensity * 0.1;
                    element.style.animation = `pulse ${1 + (i % 3)}s infinite alternate`;
                    element.style.animationTimingFunction = 'ease-in-out';
                    
                    // Add CSS for animation
                    if (!document.getElementById('motion-animation-style')) {
                        const style = document.createElement('style');
                        style.id = 'motion-animation-style';
                        style.textContent = `
                            @keyframes pulse {
                                0% { transform: scale(1) rotate(0deg); box-shadow: 0 0 5px rgba(0,0,0,0.1); }
                                100% { transform: scale(${1 + pulseIntensity}) rotate(${i % 2 ? 5 : -5}deg); box-shadow: 0 0 15px rgba(0,0,0,0.2); }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                } else {
                    element.style.boxShadow = '0 0 5px rgba(0,0,0,0.1)';
                }
                
                patternContainer.appendChild(element);
            }
            
            motionDisplay.appendChild(patternContainer);
        }
        
        // Color Illusion
        const colorIntensitySlider = document.getElementById('color-intensity');
        const innerColorRadios = document.querySelectorAll('input[name="inner-color"]');
        
        function updateColorIllusion() {
            const intensity = parseInt(colorIntensitySlider.value);
            const innerColor = document.querySelector('input[name="inner-color"]:checked').value;
            
            // Define colors
            let innerColorValue, surround1, surround2;
            
            switch(innerColor) {
                case 'gray':
                    innerColorValue = '#cccccc';
                    break;
                case 'blue':
                    innerColorValue = '#a8d0e6';
                    break;
                case 'pink':
                    innerColorValue = '#ffb8d9';
                    break;
                default:
                    innerColorValue = '#cccccc';
            }
            
            // Surrounding colors change based on intensity
            const saturation = 30 + intensity * 5;
            const lightness = 70 - intensity * 2;
            
            surround1 = `hsl(0, ${saturation}%, ${lightness}%)`; // Reddish
            surround2 = `hsl(220, ${saturation}%, ${lightness}%)`; // Blueish
            
            // Update the color blocks
            const colorBlock1 = document.getElementById('color-block-1');
            const colorBlock2 = document.getElementById('color-block-2');
            
            // Create HTML structure if not exists
            if (!colorBlock1.innerHTML) {
                colorBlock1.innerHTML = `
                    <div class="color-surround" style="background-color: ${surround1}; padding: 30px; border-radius: 15px;">
                        <div class="color-inner" style="background-color: ${innerColorValue}; width: 100px; height: 100px; border-radius: 10px; margin: 0 auto;"></div>
                    </div>
                `;
                
                colorBlock2.innerHTML = `
                    <div class="color-surround" style="background-color: ${surround2}; padding: 30px; border-radius: 15px;">
                        <div class="color-inner" style="background-color: ${innerColorValue}; width: 100px; height: 100px; border-radius: 10px; margin: 0 auto;"></div>
                    </div>
                `;
            } else {
                // Update existing elements
                const surround1Div = colorBlock1.querySelector('.color-surround');
                const surround2Div = colorBlock2.querySelector('.color-surround');
                const inner1Div = colorBlock1.querySelector('.color-inner');
                const inner2Div = colorBlock2.querySelector('.color-inner');
                
                surround1Div.style.backgroundColor = surround1;
                surround2Div.style.backgroundColor = surround2;
                inner1Div.style.backgroundColor = innerColorValue;
                inner2Div.style.backgroundColor = innerColorValue;
            }
            
            // Style the container
            const colorIllusionContainer = document.querySelector('.color-illusion');
            colorIllusionContainer.style.display = 'flex';
            colorIllusionContainer.style.justifyContent = 'space-around';
            colorIllusionContainer.style.alignItems = 'center';
            colorIllusionContainer.style.width = '100%';
            colorIllusionContainer.style.height = '100%';
            colorIllusionContainer.style.gap = '20px';
            colorIllusionContainer.style.flexWrap = 'wrap';
        }
        
        // Size Illusion
        const sizeContextSlider = document.getElementById('size-context');
        const sizeRevealCheckbox = document.getElementById('size-reveal');
        
        function updateSizeIllusion() {
            const contextSize = parseInt(sizeContextSlider.value);
            const reveal = sizeRevealCheckbox.checked;
            
            // Base size for center circles
            const centerSize = 80;
            
            // Context circle sizes based on slider
            const smallContextSize = 20 + contextSize * 3;
            const largeContextSize = 30 + contextSize * 7;
            
            // Update the size comparison displays
            const sizeComparison1 = document.getElementById('size-comparison-1');
            const sizeComparison2 = document.getElementById('size-comparison-2');
            
            // Create HTML structure if not exists
            if (!sizeComparison1.innerHTML) {
                // First comparison - small context circles
                sizeComparison1.innerHTML = `
                    <div style="position: relative; width: 200px; height: 200px; display: flex; justify-content: center; align-items: center;">
                        <div class="context-circle" style="position: absolute; top: 20px; left: 20px; width: ${smallContextSize}px; height: ${smallContextSize}px; border-radius: 50%; background-color: #ffb8d9;"></div>
                        <div class="context-circle" style="position: absolute; top: 20px; right: 20px; width: ${smallContextSize}px; height: ${smallContextSize}px; border-radius: 50%; background-color: #a8d0e6;"></div>
                        <div class="context-circle" style="position: absolute; bottom: 20px; left: 20px; width: ${smallContextSize}px; height: ${smallContextSize}px; border-radius: 50%; background-color: #c5e1a5;"></div>
                        <div class="context-circle" style="position: absolute; bottom: 20px; right: 20px; width: ${smallContextSize}px; height: ${smallContextSize}px; border-radius: 50%; background-color: #ffcc80;"></div>
                        <div class="center-circle" style="width: ${centerSize}px; height: ${centerSize}px; border-radius: 50%; background-color: #6b5b95; z-index: 2;"></div>
                    </div>
                `;
                
                // Second comparison - large context circles
                sizeComparison2.innerHTML = `
                    <div style="position: relative; width: 200px; height: 200px; display: flex; justify-content: center; align-items: center;">
                        <div class="context-circle" style="position: absolute; top: 10px; left: 10px; width: ${largeContextSize}px; height: ${largeContextSize}px; border-radius: 50%; background-color: #ffb8d9;"></div>
                        <div class="context-circle" style="position: absolute; top: 10px; right: 10px; width: ${largeContextSize}px; height: ${largeContextSize}px; border-radius: 50%; background-color: #a8d0e6;"></div>
                        <div class="context-circle" style="position: absolute; bottom: 10px; left: 10px; width: ${largeContextSize}px; height: ${largeContextSize}px; border-radius: 50%; background-color: #c5e1a5;"></div>
                        <div class="context-circle" style="position: absolute; bottom: 10px; right: 10px; width: ${largeContextSize}px; height: ${largeContextSize}px; border-radius: 50%; background-color: #ffcc80;"></div>
                        <div class="center-circle" style="width: ${centerSize}px; height: ${centerSize}px; border-radius: 50%; background-color: #6b5b95; z-index: 2;"></div>
                    </div>
                `;
            } else {
                // Update existing elements
                const contextCircles1 = sizeComparison1.querySelectorAll('.context-circle');
                const contextCircles2 = sizeComparison2.querySelectorAll('.context-circle');
                
                // Update first comparison circles
                contextCircles1.forEach(circle => {
                    circle.style.width = `${smallContextSize}px`;
                    circle.style.height = `${smallContextSize}px`;
                });
                
                // Update second comparison circles
                contextCircles2.forEach(circle => {
                    circle.style.width = `${largeContextSize}px`;
                    circle.style.height = `${largeContextSize}px`;
                });
                
                // Highlight center circles if reveal is checked
                const centerCircles = document.querySelectorAll('.center-circle');
                if (reveal) {
                    centerCircles.forEach(circle => {
                        circle.style.boxShadow = '0 0 0 4px white, 0 0 0 8px #ff4444';
                    });
                } else {
                    centerCircles.forEach(circle => {
                        circle.style.boxShadow = 'none';
                    });
                }
            }
            
            // Style the container
            const sizeIllusionContainer = document.querySelector('.size-illusion');
            sizeIllusionContainer.style.display = 'flex';
            sizeIllusionContainer.style.justifyContent = 'space-around';
            sizeIllusionContainer.style.alignItems = 'center';
            sizeIllusionContainer.style.width = '100%';
            sizeIllusionContainer.style.height = '100%';
            sizeIllusionContainer.style.gap = '20px';
            sizeIllusionContainer.style.flexWrap = 'wrap';
        }
        
        // Event Listeners for Controls
        spiralSpeedSlider.addEventListener('input', drawSpiral);
        spiralDensitySlider.addEventListener('input', drawSpiral);
        spiralColorRadios.forEach(radio => radio.addEventListener('change', drawSpiral));
        
        motionIntensitySlider.addEventListener('input', createMotionPattern);
        motionPatternRadios.forEach(radio => radio.addEventListener('change', createMotionPattern));
        motionToggle.addEventListener('change', createMotionPattern);
        
        colorIntensitySlider.addEventListener('input', updateColorIllusion);
        innerColorRadios.forEach(radio => radio.addEventListener('change', updateColorIllusion));
        
        sizeContextSlider.addEventListener('input', updateSizeIllusion);
        sizeRevealCheckbox.addEventListener('change', updateSizeIllusion);
        
        // Initialize all illusions
        drawSpiral();
        createMotionPattern();
        updateColorIllusion();
        updateSizeIllusion();
        
        // Add some interactivity to the footer social icons
        const socialIcons = document.querySelectorAll('.social-icons a');
        socialIcons.forEach(icon => {
            icon.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.2)';
            });
            
            icon.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
            });
        });
    </script>
</body>
</html>