<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @import url(https://fonts.bunny.net/css?family=jura:300,500);

@layer base, demo;

@layer demo {
  html {
		scroll-behavior: smooth;
		scroll-timeline: --page-scroll block;
  }
  body {
    height: 500vh;
  }
	.cards {
		--card-angle: 10deg;
		--total-cards: sibling-count();
    --card-border-radius: 20px;
    
		perspective: 800px;
    position: fixed;
    inset: 0;
    margin: auto;
		width: clamp(150px, 20vw, 400px);
		aspect-ratio:4/6;
    counter-reset: --my-counter;
		@media (width < 600px) {
			grid-template-columns: 1fr;
			grid-template-rows: 20vh 80vh;
		}
   
   > article {
			--i: calc(sibling-index() - 1);
			--card-clr: hsl(calc(var(--i) * 65), 75%, 60%);
			--card-start-range: calc(100% / var(--total-cards) * var(--i));
			--card-zindex: calc(var(--i) * -1);


			position: absolute;
			inset: 0;
			margin: auto;
			z-index: var(--card-zindex);
			background-color: var(--card-clr);
			border-radius: var(--card-border-radius);
			transition: 300ms ease-in-out;
			display: grid;
			place-content: center;
			transform-style: preserve-3d;

			animation-name: card-reveal;
			animation-duration: 1ms;
			animation-timing-function: linear;
			animation-timeline: --page-scroll;
			animation-range-start: var(--card-start-range);
			&::after{
				content: counter(--my-counter);
				counter-increment: --my-counter;
				color: white;
				font-size: 2rem;
			}
		}
  }
	@keyframes card-reveal {
		0% {
			translate: 0 0;
     transform: rotateX(0deg);
		}
    10%{
      translate: 0 -20px;
     transform: rotateX(0deg);
      scale: 1.35;
      opacity: 1;
    }
		30%,100%{
			translate: 0 100vh;
       transform: rotateX(-90deg);
      scale: 1.35;
      opacity: 0;
		}
	}

  .mouse {
		position: fixed;
		top:2rem;
		left: 50%;
    translate: -50% 0;
		display: block;
		width: 50px;
		height: 50px;
		opacity: 1;
     display: none;
		animation-name: mouse;
		animation-duration: 1s;
		animation-timing-function: linear;
		animation-fill-mode: forwards;
		animation-timeline: --page-scroll;
    @supports  (animation-timeline: scroll()) {
      display: block;
    }
	}
	@keyframes mouse {
		95% {
			rotate: 0deg;
		}
		100% {
			rotate: 180deg;
		}
	}
}

  /* general styling not relevant for this demo */
@layer base {
	* {
		box-sizing: border-box;
	}
	:root {
		color-scheme: light dark;
		--bg-dark: rgb(16, 24, 40);
		--bg-light: rgb(248, 244, 238);
		--txt-light: rgb(10, 10, 10);
		--txt-dark: rgb(245, 245, 245););
		--line-light: rgba(0 0 0 / .25);
		--line-dark: rgba(255 255 255 / .25);
    
    --clr-bg: light-dark(var(--bg-light), var(--bg-dark));
    --clr-txt: light-dark(var(--txt-light), var(--txt-dark));
    --clr-lines: light-dark(var(--line-light), var(--line-dark));
	}scroll-timeline: --page-scroll vertical; /* Firefox supports the older "vertical" syntax */
	}
	body {
		background-color: var(--clr-bg);
		color: var(--clr-txt);
		min-height: 100svh;
		margin: 0;
		padding: 2rem;
		font-family: "Jura", sans-serif;
		font-size: 1rem;
		line-height: 1.5;
    display: grid;
    place-content: center;
    gap: 2rem;
		& > * {
			/*outline: 1px dashed red;*/
		}
	}
	h1 {
		margin: 0;
		font-size: 1.2rem;
	}
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
	.msg-supports {
		font-size: 0.8rem;
    position: fixed;
    top: 2rem;
    left: 50%;
    translate: -50% 0;
		
    @supports (animation-timeline: scroll()) {
			display: none;
		}
		/*
    @supports (order:sibling-index()) {
			display: none;
		}
		/*
    @supports (x: attr(x type(*))) {
			display: none;
		}
    */
	}
}

    </style>
</head>
<body>
    <section class="cards">
		<article></article>
    <article></article>
    <article></article>
    <article></article>
    <article></article>
    <article></article>
    <article></article>
    <article></article>
    <article></article>
    <article></article>
	</section>


<p class="msg-supports timeline">Sorry, your browser doesn't support animation-timeline</p>
<div class="icon">
		<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 40" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mouse">
			<path stroke="none" d="M0 0h24v24H0z" fill="none" />
			<path d="M6 3m0 4a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-4a4 4 0 0 1 -4 -4z" />
			<path d="M12 7l0 4" />
			<path d="M8 26l4 4l4 -4">
				<animateTransform attributeType="XML" attributeName="transform" type="translate" values="0 0; 0 4; 0 0" dur="1s" repeatCount="indefinite" />
			</path>
		</svg>
	</div>
</body>
</html>