const cssColors = [{
        name: "IndianRed",
        category: "Red"
    }, {
        name: "LightCoral",
        category: "Red"
    }, {
        name: "Salmon",
        category: "Red"
    }, {
        name: "DarkSalmon",
        category: "Red"
    }, {
        name: "LightSalmon",
        category: "Red"
    }, {
        name: "Crimson",
        category: "Red"
    }, {
        name: "Red",
        category: "Red"
    }, {
        name: "FireBrick",
        category: "Red"
    }, {
        name: "DarkRed",
        category: "Red"
    }, {
        name: "Pink",
        category: "Pink"
    }, {
        name: "LightPink",
        category: "Pink"
    }, {
        name: "HotPink",
        category: "Pink"
    }, {
        name: "DeepPink",
        category: "Pink"
    }, {
        name: "MediumVioletRed",
        category: "Pink"
    }, {
        name: "PaleVioletRed",
        category: "Pink"
    }, {
        name: "Coral",
        category: "Orange"
    }, {
        name: "Tomato",
        category: "Orange"
    }, {
        name: "OrangeRed",
        category: "Orange"
    }, {
        name: "DarkOrange",
        category: "Orange"
    }, {
        name: "Orange",
        category: "Orange"
    }, {
        name: "Gold",
        category: "Yellow"
    }, {
        name: "Yellow",
        category: "Yellow"
    }, {
        name: "LightYellow",
        category: "Yellow"
    }, {
        name: "LemonChiffon",
        category: "Yellow"
    }, {
        name: "LightGoldenrodYellow",
        category: "Yellow"
    }, {
        name: "PapayaWhip",
        category: "Yellow"
    }, {
        name: "Moccasin",
        category: "Yellow"
    }, {
        name: "PeachPuff",
        category: "Yellow"
    }, {
        name: "PaleGoldenrod",
        category: "Yellow"
    }, {
        name: "Khaki",
        category: "Yellow"
    }, {
        name: "DarkKhaki",
        category: "Yellow"
    }, {
        name: "GreenYellow",
        category: "Green"
    }, {
        name: "Chartreuse",
        category: "Green"
    }, {
        name: "LawnGreen",
        category: "Green"
    }, {
        name: "Lime",
        category: "Green"
    }, {
        name: "LimeGreen",
        category: "Green"
    }, {
        name: "PaleGreen",
        category: "Green"
    }, {
        name: "LightGreen",
        category: "Green"
    }, {
        name: "MediumSpringGreen",
        category: "Green"
    }, {
        name: "SpringGreen",
        category: "Green"
    }, {
        name: "MediumSeaGreen",
        category: "Green"
    }, {
        name: "SeaGreen",
        category: "Green"
    }, {
        name: "ForestGreen",
        category: "Green"
    }, {
        name: "Green",
        category: "Green"
    }, {
        name: "DarkGreen",
        category: "Green"
    }, {
        name: "YellowGreen",
        category: "Green"
    }, {
        name: "OliveDrab",
        category: "Green"
    }, {
        name: "Olive",
        category: "Green"
    }, {
        name: "DarkOliveGreen",
        category: "Green"
    }, {
        name: "MediumAquamarine",
        category: "Green"
    }, {
        name: "DarkSeaGreen",
        category: "Green"
    }, {
        name: "LightSeaGreen",
        category: "Green"
    }, {
        name: "DarkCyan",
        category: "Green"
    }, {
        name: "Teal",
        category: "Green"
    }, {
        name: "Aqua",
        category: "Blue"
    }, {
        name: "Cyan",
        category: "Blue"
    }, {
        name: "LightCyan",
        category: "Blue"
    }, {
        name: "PaleTurquoise",
        category: "Blue"
    }, {
        name: "Aquamarine",
        category: "Blue"
    }, {
        name: "Turquoise",
        category: "Blue"
    }, {
        name: "MediumTurquoise",
        category: "Blue"
    }, {
        name: "DarkTurquoise",
        category: "Blue"
    }, {
        name: "CadetBlue",
        category: "Blue"
    }, {
        name: "SteelBlue",
        category: "Blue"
    }, {
        name: "LightSteelBlue",
        category: "Blue"
    }, {
        name: "PowderBlue",
        category: "Blue"
    }, {
        name: "LightBlue",
        category: "Blue"
    }, {
        name: "SkyBlue",
        category: "Blue"
    }, {
        name: "LightSkyBlue",
        category: "Blue"
    }, {
        name: "DeepSkyBlue",
        category: "Blue"
    }, {
        name: "DodgerBlue",
        category: "Blue"
    }, {
        name: "CornflowerBlue",
        category: "Blue"
    }, {
        name: "RoyalBlue",
        category: "Blue"
    }, {
        name: "Blue",
        category: "Blue"
    }, {
        name: "MediumBlue",
        category: "Blue"
    }, {
        name: "DarkBlue",
        category: "Blue"
    }, {
        name: "Navy",
        category: "Blue"
    }, {
        name: "MidnightBlue",
        category: "Blue"
    }, {
        name: "Lavender",
        category: "Violet"
    }, {
        name: "Thistle",
        category: "Violet"
    }, {
        name: "Plum",
        category: "Violet"
    }, {
        name: "Violet",
        category: "Violet"
    }, {
        name: "Orchid",
        category: "Violet"
    }, {
        name: "Fuchsia",
        category: "Violet"
    }, {
        name: "Magenta",
        category: "Violet"
    }, {
        name: "MediumOrchid",
        category: "Violet"
    }, {
        name: "MediumPurple",
        category: "Violet"
    }, {
        name: "BlueViolet",
        category: "Violet"
    }, {
        name: "DarkViolet",
        category: "Violet"
    }, {
        name: "DarkOrchid",
        category: "Violet"
    }, {
        name: "DarkMagenta",
        category: "Violet"
    }, {
        name: "Purple",
        category: "Violet"
    }, {
        name: "RebeccaPurple",
        category: "Violet"
    }, {
        name: "Indigo",
        category: "Violet"
    }, {
        name: "MediumSlateBlue",
        category: "Violet"
    }, {
        name: "SlateBlue",
        category: "Violet"
    }, {
        name: "DarkSlateBlue",
        category: "Violet"
    }, {
        name: "Cornsilk",
        category: "Brown"
    }, {
        name: "BlanchedAlmond",
        category: "Brown"
    }, {
        name: "Bisque",
        category: "Brown"
    }, {
        name: "NavajoWhite",
        category: "Brown"
    }, {
        name: "Wheat",
        category: "Brown"
    }, {
        name: "BurlyWood",
        category: "Brown"
    }, {
        name: "Tan",
        category: "Brown"
    }, {
        name: "RosyBrown",
        category: "Brown"
    }, {
        name: "SandyBrown",
        category: "Brown"
    }, {
        name: "Goldenrod",
        category: "Brown"
    }, {
        name: "DarkGoldenrod",
        category: "Brown"
    }, {
        name: "Peru",
        category: "Brown"
    }, {
        name: "Chocolate",
        category: "Brown"
    }, {
        name: "SaddleBrown",
        category: "Brown"
    }, {
        name: "Sienna",
        category: "Brown"
    }, {
        name: "Brown",
        category: "Brown"
    }, {
        name: "Maroon",
        category: "Brown"
    }, {
        name: "White",
        category: "White"
    }, {
        name: "Snow",
        category: "White"
    }, {
        name: "Honeydew",
        category: "White"
    }, {
        name: "MintCream",
        category: "White"
    }, {
        name: "Azure",
        category: "White"
    }, {
        name: "AliceBlue",
        category: "White"
    }, {
        name: "GhostWhite",
        category: "White"
    }, {
        name: "WhiteSmoke",
        category: "White"
    }, {
        name: "Seashell",
        category: "White"
    }, {
        name: "Beige",
        category: "White"
    }, {
        name: "OldLace",
        category: "White"
    }, {
        name: "FloralWhite",
        category: "White"
    }, {
        name: "Ivory",
        category: "White"
    }, {
        name: "AntiqueWhite",
        category: "White"
    }, {
        name: "Linen",
        category: "White"
    }, {
        name: "LavenderBlush",
        category: "White"
    }, {
        name: "MistyRose",
        category: "White"
    }, {
        name: "Gainsboro",
        category: "Gray"
    }, {
        name: "LightGray",
        category: "Gray"
    }, {
        name: "Silver",
        category: "Gray"
    }, {
        name: "DarkGray",
        category: "Gray"
    }, {
        name: "Gray",
        category: "Gray"
    }, {
        name: "DimGray",
        category: "Gray"
    }, {
        name: "LightSlateGray",
        category: "Gray"
    }, {
        name: "SlateGray",
        category: "Gray"
    }, {
        name: "DarkSlateGray",
        category: "Gray"
    }, {
        name: "Black",
        category: "Black"
    }],
    colorQuotes = ["Color is a power which directly influences the soul. - Wassily Kandinsky", "Colors are the smiles of nature. - Leigh Hunt", "Life is like a box of crayons. - John Lennon", "Vivid colors love loud music. - Marc Chagall", "There are those who see things as they are and ask why, and those who see things as they could be and ask why not. - George Bernard Shaw", "Red is the first color to disappear underwater. That's why red fish are black at the bottom of the sea. - Pablo Picasso", "Black is the refuge of color. - Gaston Bachelard", "In darkness, all colors agree. - Francis Bacon", "Too many colors distract the viewer. - Jacques Tati", "Perfumes, colors, and sounds respond to each other. - Charles Baudelaire", "All waters are the color of drowning. - Emil Michel Cioran", "Water takes the color and shape of the vessel that contains it. - Driss Chraïbi", "The chameleon only has the color of the chameleon when it's placed on another chameleon. - François Cavanna", "Black is a color in itself, which summarizes and consumes all others. - Henri Matisse", "Color is everything. - When color is right, the form is right. - Color is everything, color is vibration like music; everything is vibration. - Marc Chagall", "Colors are the actions of light... - Johann Wolfgang von Goethe", "We use colors, but we paint with feeling. - Jean Chardin", "Too much color harms the viewer. - Jacques Tati", "Scents, colors, flavors, the same dream, doves in the elsewhere of cooing. - Yves Bonnefoy", "One to the other what color is to shadow, the gold of ripe fruit to the gold of dry leaf. - Yves Bonnefoy", "With color we obtain an energy that seems to come from witchcraft. - Henri Matisse", "Color above all, and perhaps even more than drawing, is a liberation. - Henri Matisse", "It is with color that you render light, but you must also feel this light, have it within you. - Henri Matisse", "Color was not given to us to imitate nature. It was given to us so we can express our emotions. - Henri Matisse", "Color is a body of flesh where a heart beats. - Malcolm de Chazal", "A single tone is just a color, two tones is a chord, that's life. - Henri Matisse", "Color is fixed, the word has limits, the musical language is infinite. - Honoré de Balzac", "Color exists in itself, possessing its own beauty. - Henri Matisse", "The rose has the color of modesty but also that of falsehood. - Jules Renard", "Nothing makes the future look rosier than contemplating it through a glass of chambertin. - Alexandre Dumas", "All colors are friends of their neighbors and lovers of their opposites. - Marc Chagall", "We should keep the color of life, but never remember the details. - Details are always vulgar. - Oscar Wilde", "Each of us ignores the color of the iris of almost all our friends. The eye is gaze: it is only an eye for the ophthalmologist and the painter. - André Malraux", "Color is the glory of light. - Jean Guitton", "Color is an energy that directly influences the soul. - Wassily Kandinsky", "Handling colors and lines, isn't that real diplomacy, for the real difficulty is precisely to harmonize all that. - Raoul Dufy", "And why wouldn't colors be sisters of sorrows, since both attract us into eternity? - Hugo von Hofmannsthal", "We talk about the past, color of mourning, about the future, color of rose. - Alphonse Daudet", "Colors in painting are decoys that persuade the eyes, like the beauty of verses in poetry. - Nicolas Poussin", "The soul has the color of the gaze. - The blue soul alone carries dreams within, it took its azure from the waves and the sky. - Guy de Maupassant", "When Greens see red, they vote white. - Raymond Devos", "A black, E white, I red, U green, O blue: vowels, I will tell someday your latent births. - Arthur Rimbaud", "Color is everything. When color is right, the form is right. Color is everything, color is vibration like music; everything is vibration. - Marc Chagall", "When I don't have blue, I use red. - Pablo Picasso", "A certain blue enters your soul. A certain red affects your blood pressure. - Henri Matisse", "He explained to me with a smile that nothing is white or black and that white is often black hiding and black is sometimes white that got caught. - Romain Gary", "The best way to take people, black or white, is to take them for what they think they are, and then leave them alone. - William Faulkner", "Reject black, and that mixture of white and black called gray. Nothing is black, nothing is gray. What seems gray is a compound of light shades that a trained eye detects. - Paul Gauguin", "In the dark night of the soul, it is always three o'clock in the morning. - Francis Scott Fitzgerald", "When I don't have blue, I use red. - Pablo Picasso", "Art is always more abstract than we imagine. Form and color speak to us of form and color, and that's where it stops. - Oscar Wilde", "It's been forty years that I've discovered that the queen of all colors is black. - Henri Matisse", "Black is the uniform of democracy. - Charles Baudelaire", "I've always painted pictures in which human love floods my colors. - Marc Chagall", "Everyone has their glasses; but no one knows exactly what color their lenses are. - Alfred de Musset", "Style should be like a transparent varnish: it must not alter the colors, or the facts and thoughts on which it is placed. - Stendhal", "Only women who don't know how to dress fear color. One can be radiant without vulgarity and soft without blandness. - Marcel Proust", "Ink. Vile compound of tannin, lampblack, gum arabic and water, mainly used to facilitate the contagion of stupidity and promote intellectual crime. - Ambrose Bierce", "Sin is the only note of color that remains in the modern world. - Oscar Wilde", "Beauty is not in colors, but in their harmony. - Marcel Proust", "Painting can be poetry. Isn't color there to throw all its depth at once into the discourse of the painting? - Yves Bonnefoy", "You will have black ink, blackboards, black aprons. Black is, in our beautiful country, the color of youth. - Jean Giraudoux", "If the night weren't black, there would be no one to notice it. - Hubert Reeves", "May its fixed gaze Not stop the colors. - Eugène Guillevic", "To write is already to put black on white. - Stéphane Mallarmé", "One morning, one of us lacking black, used blue: impressionism was born. - Pierre-Auguste Renoir", "If all life inevitably goes towards its end, we must during ours, color it with our colors of love and hope. - Marc Chagall", "If drawing belongs to the world of the spirit and color to that of the senses, you must first draw to cultivate the spirit. - Henri Matisse", "All paintings should be the same size and the same color so they would be interchangeable and no one would feel they have a good or bad one. - Andy Warhol", "There is in nature only black and white. - Francisco de Goya", "The sky is blue only by convention, but red in reality. - Alberto Giacometti", "While subject, form, line first address thought, color has no meaning for intelligence, but it has all powers over sensitivity. - Eugène Delacroix", "Some painters turn the sun into a yellow dot; others turn a yellow dot into the sun. - Pablo Picasso", "A black, E white, I red, U green, O blue: vowels, I will tell someday your latent births. - Arthur Rimbaud", "Writing a novel is telling a story. - It's the people you bring to life that give the novel its tone, the color of the words that come from the pen. - Paul Auster", "The proximity of white makes highly colored spots luminous. - Bonnard", "If someone said to Veronese: paint me a beautiful blonde woman whose flesh is of that tone. (He shows the gray and dirty tone of the pavement). He would paint her and the woman would be a blonde in his painting. - (Delacroix quoted in 'Van Gogh – Letters to Theo')", "One can paint with two colors, draw with one. Three, four at most, have for centuries sufficed men. - Henri Michaux", "Watch: the moment when color transforms into value. - Bonnard", "In nature... a tint that seems uniform is formed by the union of a multitude of diverse tints.. - perceptible only to the eye that knows how to see. - Delacroix", "It is necessary to introduce... into our light vibrations, represented by reds and yellows... a sufficient sum of bluishness, to make the air felt. - Cézanne", "I would like that with color... one would have as little trouble as with pen and paper. - Van Gogh", "All the colors that impressionism has made fashionable are changing. All the more reason to use them boldly, too raw... time will only soften them too much. - Van Gogh", "Degas also said that: if he had followed his own taste, he wouldn't have gone beyond black and white: 'but when everyone is on your back asking for color!' Commentary by Ambroise Vollard in 'Listening to Cézanne, Degas, Renoir...", "One works with few colors. What gives the illusion of their number is that they have been placed in their rightful place. - Picasso", "The study of color: I always hope to find something in there. Express the love of two lovers by a marriage of complementaries... their mixing and their oppositions, the mysterious vibrations of close tones. Express the thought of a brow by the radiation of a light tone on a dark background. - Van Gogh", "It is with ignoble tints that one produces the effect of splendid tones. - Delacroix"],
    gallery = document.getElementById("color-gallery"),
    sortSelect = document.getElementById("sort-select"),
    searchInput = document.getElementById("search"),
    darkModeBtn = document.getElementById("dark-mode"),
    colorDetails = document.getElementById("color-details"),
    overlay = document.getElementById("overlay"),
    detailName = document.getElementById("detail-name"),
    colorValuesContainer = document.getElementById("color-values"),
    detailPreview = document.getElementById("detail-preview"),
    quoteText = document.getElementById("quote-text"),
    closeDetailsBtn = document.getElementById("close-details"),
    copyAllValuesBtn = document.getElementById("copy-all-values"),
    notification = document.getElementById("notification"),
    notificationText = document.getElementById("notification-text");
let isDarkMode = !1,
    currentColors = [...cssColors],
    currentColorValues = {},
    currentSelectedColor = null,
    isColorBackgroundActive = !1;

function init() {
    displayColors(currentColors), sortSelect.addEventListener("change", handleSort), searchInput.addEventListener("input", handleSearch), darkModeBtn.addEventListener("click", toggleDarkMode), closeDetailsBtn.addEventListener("click", closeDetails), copyAllValuesBtn.addEventListener("click", copyAllValues), document.addEventListener("keydown", (e => {
        "Escape" === e.key && colorDetails.classList.contains("active") && closeDetails()
    })), overlay.addEventListener("click", closeDetails)
}

function displayColors(e) {
    gallery.innerHTML = "", e.forEach((e => {
        const o = document.createElement("div");
        o.className = "color-card";
        const a = document.createElement("div");
        a.style.color = e.name, document.body.appendChild(a);
        const t = getComputedStyle(a).color;
        document.body.removeChild(a);
        const r = rgbToHex(t);
        o.innerHTML = `\n            <div class="color-swatch" style="background-color: ${e.name}"></div>\n            <div class="color-name">${formatColorName(e.name)}</div>\n            <div class="color-hex">${r}</div>\n        `, o.addEventListener("click", (() => showColorDetails(e, r, t))), gallery.appendChild(o)
    }))
}

function formatColorName(e) {
    return e.replace(/([A-Z])/g, " $1").trim()
}

function rgbToHex(e) {
    const o = e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    if (!o) return "#000000";
    return "#" + ((1 << 24) + (parseInt(o[1]) << 16) + (parseInt(o[2]) << 8) + parseInt(o[3])).toString(16).slice(1).toUpperCase()
}

function rgbToHsl(e, o, a) {
    e /= 255, o /= 255, a /= 255;
    const t = Math.max(e, o, a),
        r = Math.min(e, o, a);
    let n, l, i = (t + r) / 2;
    if (t === r) n = l = 0;
    else {
        const s = t - r;
        switch (l = i > .5 ? s / (2 - t - r) : s / (t + r), t) {
            case e:
                n = (o - a) / s + (o < a ? 6 : 0);
                break;
            case o:
                n = (a - e) / s + 2;
                break;
            case a:
                n = (e - o) / s + 4
        }
        n /= 6
    }
    return [Math.round(360 * n), Math.round(100 * l), Math.round(100 * i)]
}

function rgbToHwb(e, o, a) {
    const t = rgbToHsl(e, o, a)[0],
        r = Math.min(e, o, a) / 255 * 100,
        n = 100 - Math.max(e, o, a) / 255 * 100;
    return [Math.round(t), Math.round(r), Math.round(n)]
}

function rgbToLabApprox(e, o, a) {
    return [Math.round((.299 * e + .587 * o + .114 * a) / 255 * 100), Math.round((e - 128) / 2), Math.round((o - 128) / 2)]
}

function showColorDetails(e, o, a) {
    currentSelectedColor = e.name, isColorBackgroundActive = !0;
    const t = formatColorName(e.name);
    darkModeBtn.classList.add("secondary"), applyBackgroundColor(e.name), detailName.textContent = t, detailPreview.style.backgroundColor = e.name, colorDetails.style.backgroundColor = e.name;
    const r = a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    let n = 0,
        l = 0,
        i = 0;
    r && (n = parseInt(r[1]), l = parseInt(r[2]), i = parseInt(r[3]));
    const s = rgbToHsl(n, l, i),
        c = rgbToHwb(n, l, i),
        d = rgbToLabApprox(n, l, i);
    currentColorValues = {
        name: e.name,
        hex: o,
        rgb: a,
        rgba: `rgba(${n}, ${l}, ${i}, 1)`,
        rgbaAlpha: `rgba(${n}, ${l}, ${i}, 0.5)`,
        hsl: `hsl(${s[0]}, ${s[1]}%, ${s[2]}%)`,
        hsla: `hsla(${s[0]}, ${s[1]}%, ${s[2]}%, 1)`,
        hwb: `hwb(${c[0]} ${c[1]}% ${c[2]}%)`,
        lab: `lab(${d[0]}% ${d[1]} ${d[2]})`,
        oklab: `oklab(${d[0]}% ${d[1]/100} ${d[2]/100})`,
        oklch: `oklch(${d[0]}% 0.2 ${s[0]})`,
        lch: `lch(${d[0]}% 50 ${s[0]})`,
        colorSRGB: `color(srgb ${(n/255).toFixed(3)} ${(l/255).toFixed(3)} ${(i/255).toFixed(3)})`,
        colorDisplayP3: `color(display-p3 ${(n/255).toFixed(3)} ${(l/255).toFixed(3)} ${(i/255).toFixed(3)})`,
        colorRec2020: `color(rec2020 ${(n/255).toFixed(4)} ${(l/255).toFixed(4)} ${(i/255).toFixed(4)})`
    }, displayColorValues(), quoteText.textContent = colorQuotes[Math.floor(Math.random() * colorQuotes.length)], colorDetails.classList.add("active"), overlay.classList.add("active"), document.body.style.overflow = "hidden"
}

function applyBackgroundColor(e) {
    document.body.classList.add("color-background");
    const o = isDarkMode ? darkenColor(e, .2) : e;
    document.body.style.setProperty("--body-bg-color", e), document.body.style.setProperty("--body-bg-color-dark", o)
}

function darkenColor(e, o = .2) {
    const a = document.createElement("div");
    a.style.color = e, document.body.appendChild(a);
    const t = getComputedStyle(a).color;
    document.body.removeChild(a);
    const r = t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    if (!r) return e;
    let n = parseInt(r[1]),
        l = parseInt(r[2]),
        i = parseInt(r[3]);
    return n = Math.floor(n * (1 - o)), l = Math.floor(l * (1 - o)), i = Math.floor(i * (1 - o)), `rgb(${n}, ${l}, ${i})`
}

function displayColorValues() {
    colorValuesContainer.innerHTML = "";
    [{
        label: "CSS Name",
        key: "name"
    }, {
        label: "HEX",
        key: "hex"
    }, {
        label: "RGB",
        key: "rgb"
    }, {
        label: "RGBA",
        key: "rgba"
    }, {
        label: "RGBA (50%)",
        key: "rgbaAlpha"
    }, {
        label: "HSL",
        key: "hsl"
    }, {
        label: "HSLA",
        key: "hsla"
    }, {
        label: "HWB",
        key: "hwb"
    }, {
        label: "LAB",
        key: "lab"
    }, {
        label: "OKLAB",
        key: "oklab"
    }, {
        label: "OKLCH",
        key: "oklch"
    }, {
        label: "LCH",
        key: "lch"
    }, {
        label: "color(srgb)",
        key: "colorSRGB"
    }, {
        label: "color(display-p3)",
        key: "colorDisplayP3"
    }, {
        label: "color(rec2020)",
        key: "colorRec2020"
    }].forEach((e => {
        const o = document.createElement("div");
        o.className = "color-value-item", o.dataset.key = e.key;
        const a = currentColorValues[e.key];
        o.innerHTML = `\n            <div class="color-value-label">${e.label}</div>\n            <div class="color-value">${a}</div>\n            <div class="copy-indicator">\n                <i class="fas fa-check"></i>\n            </div>\n        `, o.addEventListener("click", (e => {
            copyToClipboard(a, o)
        })), colorValuesContainer.appendChild(o)
    }))
}

function copyToClipboard(e, o) {
    navigator.clipboard.writeText(e).then((() => {
        const a = o.querySelector(".copy-indicator");
        a.classList.add("show"), setTimeout((() => {
            a.classList.remove("show")
        }), 1500), showNotification(`"${e}" copied!`)
    })).catch((e => {
        console.error("Error copying:", e), showNotification("Error copying")
    }))
}

function copyAllValues() {
    let e = `Values for ${currentColorValues.name}:\n\n`;
    Object.keys(currentColorValues).forEach((o => {
        e += `${{name:"CSS Name",hex:"HEX",rgb:"RGB",rgba:"RGBA",rgbaAlpha:"RGBA (50% alpha)",hsl:"HSL",hsla:"HSLA",hwb:"HWB",lab:"LAB",oklab:"OKLAB",oklch:"OKLCH",lch:"LCH",colorSRGB:"color(srgb)",colorDisplayP3:"color(display-p3)",colorRec2020:"color(rec2020)"}[o]||o}: ${currentColorValues[o]}\n`
    })), navigator.clipboard.writeText(e).then((() => {
        showNotification("All values copied!")
    }))
}

function closeDetails() {
    colorDetails.classList.remove("active"), overlay.classList.remove("active"), document.body.style.overflow = ""
}

function toggleDarkMode() {
    isDarkMode = !isDarkMode, document.body.classList.toggle("dark-mode", isDarkMode), darkModeBtn.classList.remove("secondary");
    const e = darkModeBtn.querySelector("i");
    if (isDarkMode ? (e.className = "fas fa-sun", darkModeBtn.setAttribute("title", "Toggle light mode")) : (e.className = "fas fa-moon", darkModeBtn.setAttribute("title", "Toggle dark mode")), isColorBackgroundActive && currentSelectedColor) {
        const e = isDarkMode ? darkenColor(currentSelectedColor, .2) : currentSelectedColor;
        document.body.style.setProperty("--body-bg-color", currentSelectedColor), document.body.style.setProperty("--body-bg-color-dark", e)
    }
}

function handleSort() {
    switch (sortSelect.value) {
        case "alphabetical":
            currentColors.sort(((e, o) => e.name.localeCompare(o.name)));
            break;
        case "hue":
            currentColors.sort(((e, o) => {
                const a = document.createElement("div"),
                    t = document.createElement("div");
                a.style.backgroundColor = e.name, t.style.backgroundColor = o.name, document.body.appendChild(a), document.body.appendChild(t);
                const r = getComputedStyle(a).backgroundColor,
                    n = getComputedStyle(t).backgroundColor;
                document.body.removeChild(a), document.body.removeChild(t);
                const l = r.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),
                    i = n.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
                if (!l || !i) return 0;
                return getHue(parseInt(l[1]), parseInt(l[2]), parseInt(l[3])) - getHue(parseInt(i[1]), parseInt(i[2]), parseInt(i[3]))
            }));
            break;
        case "length":
            currentColors.sort(((e, o) => e.name.length - o.name.length));
            break;
        case "random":
            currentColors = [...cssColors].sort((() => Math.random() - .5))
    }
    displayColors(currentColors)
}

function getHue(e, o, a) {
    e /= 255, o /= 255, a /= 255;
    const t = Math.max(e, o, a),
        r = Math.min(e, o, a);
    let n;
    if (t === r) n = 0;
    else {
        const l = t - r;
        switch (t) {
            case e:
                n = (o - a) / l + (o < a ? 6 : 0);
                break;
            case o:
                n = (a - e) / l + 2;
                break;
            case a:
                n = (e - o) / l + 4
        }
        n /= 6
    }
    return 360 * n
}

function handleSearch() {
    const e = searchInput.value.toLowerCase();
    if (!e) return currentColors = [...cssColors], void displayColors(currentColors);
    currentColors = cssColors.filter((o => o.name.toLowerCase().includes(e) || o.category.toLowerCase().includes(e))), displayColors(currentColors)
}

function showNotification(e) {
    notificationText.textContent = e, notification.classList.add("show"), setTimeout((() => {
        notification.classList.remove("show")
    }), 2e3)
}
document.addEventListener("DOMContentLoaded", init);