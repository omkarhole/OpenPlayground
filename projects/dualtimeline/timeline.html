<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DualTimeline | Control Surface</title>
    <link rel="stylesheet" href="css/timeline.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Roboto+Mono&display=swap"
        rel="stylesheet">
</head>

<body class="timeline-body">
    <div id="control-module" class="control-surface">
        <header class="surface-header">
            <div class="brand">
                <span class="logo-accent">DUAL</span>CONTROL
            </div>
            <div id="connection-status" class="status-indicator disconnected">
                Offline
            </div>
        </header>

        <main class="scrubber-section">
            <div class="time-display">
                <span id="current-time" class="time-main">00:00:00</span>
                <span class="time-separator">/</span>
                <span id="total-duration" class="time-sub">00:00:00</span>
            </div>

            <div class="timeline-container">
                <div class="timeline-wrapper">
                    <!-- Custom styled range input -->
                    <input type="range" id="main-scrubber" min="0" max="100" value="0" step="0.01" disabled>
                    <div id="buffer-bar" class="progress-underlay buffer"></div>
                    <div id="progress-bar" class="progress-underlay active"></div>
                </div>
            </div>

            <div class="playback-controls">
                <button id="btn-prev" class="ctrl-btn" title="Seek Backward">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 17l-5-5 5-5M18 17l-5-5 5-5" />
                    </svg>
                </button>

                <button id="btn-play-pause" class="ctrl-btn main-action" title="Play / Pause" disabled>
                    <div id="play-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M8 5v14l11-7z" />
                        </svg>
                    </div>
                    <div id="pause-icon" class="hidden">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                        </svg>
                    </div>
                </button>

                <button id="btn-next" class="ctrl-btn" title="Seek Forward">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13 17l5-5-5-5M6 17l5-5-5-5" />
                    </svg>
                </button>
            </div>

            <div class="secondary-controls">
                <div class="speed-control">
                    <label>SPEED</label>
                    <select id="speed-select" class="styled-select">
                        <option value="0.5">0.5x</option>
                        <option value="1.0" selected>1.0x</option>
                        <option value="1.5">1.5x</option>
                        <option value="2.0">2.0x</option>
                    </select>
                </div>

                <div class="volume-control">
                    <button id="btn-mute" class="small-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M11 5L6 9H2v6h4l5 4V5zM19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07" />
                        </svg>
                    </button>
                    <input type="range" id="volume-slider" min="0" max="1" step="0.05" value="1">
                </div>
            </div>
        </main>

        <footer class="surface-footer">
            <div class="sync-info">
                <span id="sync-status">Searching for Link...</span>
            </div>
            <div class="shortcuts-hint">
                <span>SCROLL TO SCRUB</span>
                <span class="sep">â€¢</span>
                <span>SPACE TO PAUSE</span>
            </div>
        </footer>
    </div>

    <!-- Core Scripts -->
    <script type="module" src="js/sync.js" defer></script>
    <script type="module" src="js/state-manager.js" defer></script>
    <script type="module" src="js/ui-effects.js" defer></script>
    <script type="module" src="js/timeline-input.js" defer></script>
</body>

</html>