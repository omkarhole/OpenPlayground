<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Tutor Game - Improve Your Typing Skills</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #f0f0f0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        header {
            text-align: center;
            padding: 20px 0 30px;
            margin-bottom: 10px;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(0, 219, 222, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 20px;
        }
        
        .game-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            flex: 1;
        }
        
        .game-area {
            flex: 2;
            min-width: 600px;
            background: rgba(30, 30, 60, 0.8);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
        }
        
        .stats-panel {
            flex: 1;
            min-width: 300px;
            background: rgba(30, 30, 60, 0.8);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .level-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .level-badge {
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .timer {
            font-size: 2rem;
            font-weight: bold;
            color: #00dbde;
            font-family: 'Courier New', monospace;
        }
        
        .word-display {
            background: rgba(10, 10, 30, 0.7);
            border-radius: 15px;
            padding: 40px 30px;
            margin-bottom: 30px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .target-word {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            letter-spacing: 2px;
            color: #f0f0f0;
            line-height: 1.3;
        }
        
        .word-hint {
            font-size: 1.1rem;
            color: #aaa;
            font-style: italic;
            margin-top: 10px;
        }
        
        .input-container {
            margin-bottom: 30px;
        }
        
        #wordInput {
            width: 100%;
            padding: 20px;
            font-size: 1.8rem;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            text-align: center;
            letter-spacing: 2px;
            outline: none;
            transition: all 0.3s;
        }
        
        #wordInput:focus {
            border-color: #00dbde;
            box-shadow: 0 0 20px rgba(0, 219, 222, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .input-status {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 15px;
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .game-controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex: 1;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            color: white;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ddd;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn-primary:hover {
            background: linear-gradient(90deg, #00c9cc, #e600e6);
        }
        
        .stats-title {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: #00dbde;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #fc00ff;
            font-family: 'Courier New', monospace;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
            margin-top: 5px;
            text-align: center;
        }
        
        .progress-container {
            margin-bottom: 30px;
        }
        
        .progress-title {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #ddd;
        }
        
        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .accuracy-meter {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }
        
        .accuracy-display {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .accuracy-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #00dbde;
        }
        
        .accuracy-label {
            font-size: 0.9rem;
            color: #aaa;
        }
        
        .level-selector {
            margin-bottom: 30px;
        }
        
        .level-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .level-option {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            text-align: center;
            border: 2px solid transparent;
        }
        
        .level-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .level-option.active {
            background: rgba(0, 219, 222, 0.2);
            border-color: #00dbde;
            color: #00dbde;
        }
        
        .level-option i {
            margin-right: 8px;
        }
        
        .keyboard-hint {
            margin-top: auto;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            font-size: 0.9rem;
            color: #aaa;
            text-align: center;
        }
        
        .keyboard-hint kbd {
            background: rgba(255, 255, 255, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
            margin: 0 5px;
            font-family: 'Courier New', monospace;
        }
        
        .typing-indicator {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .typing-cursor {
            height: 100%;
            width: 30px;
            background: #fc00ff;
            border-radius: 2px;
            animation: cursorMove 1.5s infinite alternate;
        }
        
        @keyframes cursorMove {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(100% - 30px)); }
        }
        
        .completed-words {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .completed-title {
            color: #00dbde;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .completed-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .completed-word {
            background: rgba(0, 219, 222, 0.2);
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        .correct {
            color: #4caf50;
        }
        
        .incorrect {
            color: #f44336;
        }
        
        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(30, 30, 60, 0.95);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border: 2px solid #00dbde;
            transition: transform 0.3s;
            max-width: 500px;
            width: 90%;
        }
        
        .feedback.show {
            transform: translate(-50%, -50%) scale(1);
        }
        
        .feedback h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #fc00ff;
        }
        
        .feedback p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #ddd;
        }
        
        .feedback-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feedback-stat {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
        }
        
        .feedback-value {
            font-size: 2rem;
            font-weight: bold;
            color: #00dbde;
        }
        
        .feedback-label {
            font-size: 0.9rem;
            color: #aaa;
            margin-top: 5px;
        }
        
        .keyboard-visual {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            display: none;
        }
        
        .keyboard-row {
            display: flex;
            justify-content: center;
            margin-bottom: 8px;
        }
        
        .keyboard-key {
            padding: 10px 15px;
            margin: 0 3px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            min-width: 40px;
            text-align: center;
            font-family: 'Courier New', monospace;
            transition: all 0.1s;
        }
        
        .keyboard-key.active {
            background: #fc00ff;
            transform: scale(0.95);
            box-shadow: 0 0 10px rgba(252, 0, 255, 0.7);
        }
        
        .show-keyboard {
            margin-top: 20px;
            color: #00dbde;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }
        
        @media (max-width: 1100px) {
            .game-container {
                flex-direction: column;
            }
            
            .game-area, .stats-panel {
                min-width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .target-word {
                font-size: 2.5rem;
            }
            
            #wordInput {
                font-size: 1.5rem;
                padding: 15px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .game-controls {
                flex-direction: column;
            }
            
            .level-options {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .target-word {
                font-size: 2rem;
            }
            
            .timer {
                font-size: 1.5rem;
            }
            
            .game-area, .stats-panel {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-keyboard"></i> Typing Tutor Game</h1>
            <p class="subtitle">Improve your typing speed and accuracy with this interactive typing challenge</p>
        </header>
        
        <div class="game-container">
            <div class="game-area">
                <div class="game-header">
                    <div class="level-indicator">
                        <div class="level-badge" id="currentLevel">Beginner</div>
                        <div>Score: <span id="scoreValue">0</span></div>
                    </div>
                    <div class="timer" id="timer">60</div>
                </div>
                
                <div class="word-display">
                    <div class="target-word" id="targetWord">Loading...</div>
                    <div class="word-hint" id="wordHint"></div>
                    <div class="typing-indicator">
                        <div class="typing-cursor"></div>
                    </div>
                </div>
                
                <div class="input-container">
                    <input type="text" id="wordInput" autocomplete="off" autocapitalize="off" spellcheck="false" placeholder="Type the word here...">
                    <div class="input-status">
                        <div>Words: <span id="wordsCompleted">0</span>/<span id="wordsGoal">10</span></div>
                        <div>Next word in: <span id="nextWordTimer">5</span>s</div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <button class="btn btn-primary" id="startBtn">
                        <i class="fas fa-play"></i> Start Game
                    </button>
                    <button class="btn btn-secondary" id="pauseBtn">
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button class="btn btn-secondary" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                    <button class="btn btn-secondary" id="hintBtn">
                        <i class="fas fa-lightbulb"></i> Hint
                    </button>
                </div>
                
                <div class="completed-words">
                    <div class="completed-title">Recently Completed</div>
                    <div class="completed-list" id="completedWords"></div>
                </div>
            </div>
            
            <div class="stats-panel">
                <h3 class="stats-title"><i class="fas fa-chart-line"></i> Performance Stats</h3>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="wpmStat">0</div>
                        <div class="stat-label">Words Per Minute</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="accuracyStat">100%</div>
                        <div class="stat-label">Accuracy</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="streakStat">0</div>
                        <div class="stat-label">Current Streak</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="bestStreakStat">0</div>
                        <div class="stat-label">Best Streak</div>
                    </div>
                </div>
                
                <div class="accuracy-meter">
                    <div class="accuracy-display">
                        <div class="accuracy-value" id="accuracyValue">100%</div>
                        <div class="accuracy-label">Typing Accuracy</div>
                    </div>
                    <div class="accuracy-display">
                        <div class="accuracy-value" id="speedValue">0</div>
                        <div class="accuracy-label">Chars/Second</div>
                    </div>
                </div>
                
                <div class="level-selector">
                    <div class="progress-title">
                        <span>Select Difficulty</span>
                        <span id="levelDescription">Easy words, 5 letters max</span>
                    </div>
                    <div class="level-options">
                        <div class="level-option active" data-level="beginner">
                            <i class="fas fa-seedling"></i> Beginner
                        </div>
                        <div class="level-option" data-level="intermediate">
                            <i class="fas fa-leaf"></i> Intermediate
                        </div>
                        <div class="level-option" data-level="advanced">
                            <i class="fas fa-tree"></i> Advanced
                        </div>
                        <div class="level-option" data-level="expert">
                            <i class="fas fa-mountain"></i> Expert
                        </div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-title">
                        <span>Level Progress</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="keyboard-hint">
                    <p><i class="fas fa-info-circle"></i> Tip: Press <kbd>Enter</kbd> to submit word, <kbd>Tab</kbd> to skip</p>
                    <div class="show-keyboard" id="toggleKeyboard">
                        <i class="fas fa-keyboard"></i> Show Keyboard Visualizer
                    </div>
                </div>
                
                <div class="keyboard-visual" id="keyboardVisual">
                    <div class="keyboard-row">
                        <div class="keyboard-key" data-key="q">Q</div>
                        <div class="keyboard-key" data-key="w">W</div>
                        <div class="keyboard-key" data-key="e">E</div>
                        <div class="keyboard-key" data-key="r">R</div>
                        <div class="keyboard-key" data-key="t">T</div>
                        <div class="keyboard-key" data-key="y">Y</div>
                        <div class="keyboard-key" data-key="u">U</div>
                        <div class="keyboard-key" data-key="i">I</div>
                        <div class="keyboard-key" data-key="o">O</div>
                        <div class="keyboard-key" data-key="p">P</div>
                    </div>
                    <div class="keyboard-row">
                        <div class="keyboard-key" data-key="a">A</div>
                        <div class="keyboard-key" data-key="s">S</div>
                        <div class="keyboard-key" data-key="d">D</div>
                        <div class="keyboard-key" data-key="f">F</div>
                        <div class="keyboard-key" data-key="g">G</div>
                        <div class="keyboard-key" data-key="h">H</div>
                        <div class="keyboard-key" data-key="j">J</div>
                        <div class="keyboard-key" data-key="k">K</div>
                        <div class="keyboard-key" data-key="l">L</div>
                    </div>
                    <div class="keyboard-row">
                        <div class="keyboard-key" data-key="z">Z</div>
                        <div class="keyboard-key" data-key="x">X</div>
                        <div class="keyboard-key" data-key="c">C</div>
                        <div class="keyboard-key" data-key="v">V</div>
                        <div class="keyboard-key" data-key="b">B</div>
                        <div class="keyboard-key" data-key="n">N</div>
                        <div class="keyboard-key" data-key="m">M</div>
                        <div class="keyboard-key special-key" data-key="backspace">âŒ«</div>
                    </div>
                    <div class="keyboard-row">
                        <div class="keyboard-key large-key" data-key="space">Space</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="feedback" id="feedback">
            <h2 id="feedbackTitle">Round Complete!</h2>
            <p id="feedbackMessage">Great job! You've completed the typing challenge.</p>
            <div class="feedback-stats">
                <div class="feedback-stat">
                    <div class="feedback-value" id="feedbackWPM">0</div>
                    <div class="feedback-label">WPM</div>
                </div>
                <div class="feedback-stat">
                    <div class="feedback-value" id="feedbackAccuracy">100%</div>
                    <div class="feedback-label">Accuracy</div>
                </div>
                <div class="feedback-stat">
                    <div class="feedback-value" id="feedbackScore">0</div>
                    <div class="feedback-label">Score</div>
                </div>
                <div class="feedback-stat">
                    <div class="feedback-value" id="feedbackWords">0</div>
                    <div class="feedback-label">Words</div>
                </div>
            </div>
            <button class="btn btn-primary" id="continueBtn">
                <i class="fas fa-play"></i> Continue
            </button>
        </div>
    </div>

    <script>
        // Game variables
        let gameActive = false;
        let gamePaused = false;
        let timeLeft = 60;
        let timerInterval = null;
        let nextWordTimer = 5;
        let nextWordInterval = null;
        let currentWord = "";
        let currentWordIndex = 0;
        let score = 0;
        let wordsCompleted = 0;
        let wordsGoal = 10;
        let correctChars = 0;
        let totalChars = 0;
        let currentStreak = 0;
        let bestStreak = 0;
        let level = "beginner";
        let levelProgress = 0;
        let startTime = null;
        let lastWordTime = null;
        
        // Word banks for different levels
        const wordBanks = {
            beginner: [
                "cat", "dog", "sun", "moon", "star", "tree", "fish", "bird", "book", "ball",
                "house", "water", "flower", "friend", "family", "happy", "music", "green", "apple", "earth",
                "school", "pencil", "paper", "teacher", "student", "mother", "father", "sister", "brother", "summer"
            ],
            intermediate: [
                "computer", "keyboard", "internet", "program", "digital", "network", "browser", "website",
                "software", "hardware", "database", "algorithm", "variable", "function", "monitor", "printer",
                "graphics", "animation", "developer", "creative", "solution", "challenge", "knowledge", "education",
                "mountain", "adventure", "journey", "explorer", "discover", "horizon"
            ],
            advanced: [
                "phenomenon", "extraordinary", "revolutionary", "sophisticated", "architecture", "infrastructure",
                "algorithmic", "philosophical", "psychological", "anthropological", "technological", "methodology",
                "comprehensive", "perspective", "opportunity", "communication", "collaboration", "implementation",
                "environmental", "sustainability", "multidimensional", "interdisciplinary", "entrepreneurial", "revolutionize"
            ],
            expert: [
                "antidisestablishmentarianism", "pneumonoultramicroscopicsilicovolcanoconiosis", "floccinaucinihilipilification",
                "hippopotomonstrosesquippedaliophobia", "pseudopseudohypoparathyroidism", "supercalifragilisticexpialidocious",
                "incomprehensibilities", "uncharacteristically", "counterrevolutionary", "electroencephalograph",
                "immunoelectrophoresis", "psychophysicotherapeutics", "thyroparathyroidectomized", "hepaticocholangiogastrostomy",
                "pneumoencephalographically", "radioimmunoelectrophoresis", "psychoneuroendocrinological", "hepaticocholangiocholecystenterostomies"
            ]
        };
        
        // Word hints
        const wordHints = {
            "cat": "A small domesticated carnivorous mammal",
            "dog": "A domesticated carnivorous mammal",
            "computer": "An electronic device for storing and processing data",
            "keyboard": "A set of keys for operating a computer",
            "phenomenon": "A fact or situation that is observed to exist",
            "extraordinary": "Very unusual or remarkable",
            "antidisestablishmentarianism": "Opposition to the withdrawal of state support from a church"
        };
        
        // DOM elements
        const targetWord = document.getElementById('targetWord');
        const wordHint = document.getElementById('wordHint');
        const wordInput = document.getElementById('wordInput');
        const timerElement = document.getElementById('timer');
        const nextWordTimerElement = document.getElementById('nextWordTimer');
        const scoreValue = document.getElementById('scoreValue');
        const wordsCompletedElement = document.getElementById('wordsCompleted');
        const wordsGoalElement = document.getElementById('wordsGoal');
        const wpmStat = document.getElementById('wpmStat');
        const accuracyStat = document.getElementById('accuracyStat');
        const streakStat = document.getElementById('streakStat');
        const bestStreakStat = document.getElementById('bestStreakStat');
        const accuracyValue = document.getElementById('accuracyValue');
        const speedValue = document.getElementById('speedValue');
        const currentLevel = document.getElementById('currentLevel');
        const levelDescription = document.getElementById('levelDescription');
        const progressFill = document.getElementById('progressFill');
        const progressPercent = document.getElementById('progressPercent');
        const completedWords = document.getElementById('completedWords');
        const feedback = document.getElementById('feedback');
        const feedbackTitle = document.getElementById('feedbackTitle');
        const feedbackMessage = document.getElementById('feedbackMessage');
        const feedbackWPM = document.getElementById('feedbackWPM');
        const feedbackAccuracy = document.getElementById('feedbackAccuracy');
        const feedbackScore = document.getElementById('feedbackScore');
        const feedbackWords = document.getElementById('feedbackWords');
        const keyboardVisual = document.getElementById('keyboardVisual');
        const toggleKeyboard = document.getElementById('toggleKeyboard');
        
        // Buttons
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const hintBtn = document.getElementById('hintBtn');
        const continueBtn = document.getElementById('continueBtn');
        const levelOptions = document.querySelectorAll('.level-option');
        
        // Initialize game
        function initGame() {
            // Reset all game variables
            gameActive = false;
            gamePaused = false;
            timeLeft = 60;
            nextWordTimer = 5;
            score = 0;
            wordsCompleted = 0;
            correctChars = 0;
            totalChars = 0;
            currentStreak = 0;
            levelProgress = 0;
            
            // Clear intervals
            clearInterval(timerInterval);
            clearInterval(nextWordInterval);
            
            // Update UI
            timerElement.textContent = timeLeft;
            nextWordTimerElement.textContent = nextWordTimer;
            scoreValue.textContent = score;
            wordsCompletedElement.textContent = wordsCompleted;
            wordsGoalElement.textContent = wordsGoal;
            wpmStat.textContent = "0";
            accuracyStat.textContent = "100%";
            streakStat.textContent = "0";
            accuracyValue.textContent = "100%";
            speedValue.textContent = "0";
            progressFill.style.width = "0%";
            progressPercent.textContent = "0%";
            completedWords.innerHTML = "";
            
            // Reset input
            wordInput.value = "";
            wordInput.disabled = true;
            
            // Generate first word
            generateNewWord();
            
            // Update buttons
            startBtn.innerHTML = '<i class="fas fa-play"></i> Start Game';
            pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
            
            // Hide feedback
            feedback.classList.remove('show');
        }
        
        // Generate a new word based on current level
        function generateNewWord() {
            const wordBank = wordBanks[level];
            currentWord = wordBank[Math.floor(Math.random() * wordBank.length)];
            currentWordIndex = 0;
            
            // Update display
            targetWord.innerHTML = "";
            
            // Create colored letters
            for (let i = 0; i < currentWord.length; i++) {
                const span = document.createElement('span');
                span.textContent = currentWord[i];
                span.className = "word-letter";
                span.id = `letter-${i}`;
                targetWord.appendChild(span);
            }
            
            // Update hint
            wordHint.textContent = wordHints[currentWord] || `A ${currentWord.length}-letter word`;
            
            // Reset input
            wordInput.value = "";
            wordInput.focus();
            
            // Reset next word timer
            nextWordTimer = 5;
            nextWordTimerElement.textContent = nextWordTimer;
        }
        
        // Start the game
        function startGame() {
            if (gameActive && !gamePaused) return;
            
            if (!gameActive) {
                // First time starting
                gameActive = true;
                startTime = Date.now();
                lastWordTime = Date.now();
                startBtn.innerHTML = '<i class="fas fa-play"></i> Resume';
                
                // Set words goal based on level
                wordsGoal = level === "beginner" ? 15 : 
                           level === "intermediate" ? 12 : 
                           level === "advanced" ? 10 : 8;
                wordsGoalElement.textContent = wordsGoal;
                
                // Enable input
                wordInput.disabled = false;
                wordInput.focus();
            }
            
            // Unpause if paused
            gamePaused = false;
            pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
            
            // Start timers
            timerInterval = setInterval(updateTimer, 1000);
            nextWordInterval = setInterval(updateNextWordTimer, 1000);
            
            // Update button states
            startBtn.disabled = true;
            setTimeout(() => { startBtn.disabled = false; }, 300);
        }
        
        // Pause the game
        function pauseGame() {
            if (!gameActive) return;
            
            gamePaused = !gamePaused;
            
            if (gamePaused) {
                clearInterval(timerInterval);
                clearInterval(nextWordInterval);
                pauseBtn.innerHTML = '<i class="fas fa-play"></i> Resume';
                wordInput.disabled = true;
            } else {
                timerInterval = setInterval(updateTimer, 1000);
                nextWordInterval = setInterval(updateNextWordTimer, 1000);
                pauseBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
                wordInput.disabled = false;
                wordInput.focus();
            }
        }
        
        // Update the main timer
        function updateTimer() {
            if (gamePaused) return;
            
            timeLeft--;
            timerElement.textContent = timeLeft;
            
            if (timeLeft <= 0) {
                endGame();
            }
        }
        
        // Update the next word timer
        function updateNextWordTimer() {
            if (gamePaused) return;
            
            nextWordTimer--;
            nextWordTimerElement.textContent = nextWordTimer;
            
            if (nextWordTimer <= 0) {
                // Time's up for current word
                skipWord();
            }
        }
        
        // Skip the current word
        function skipWord() {
            // Add to completed words with incorrect status
            addCompletedWord(currentWord, false);
            
            // Reset streak
            currentStreak = 0;
            streakStat.textContent = currentStreak;
            
            // Generate new word
            generateNewWord();
            resetNextWordTimer();
            
            // Update progress
            updateProgress();
        }
        
        // Reset next word timer
        function resetNextWordTimer() {
            nextWordTimer = level === "beginner" ? 8 : 
                           level === "intermediate" ? 7 : 
                           level === "advanced" ? 6 : 5;
            nextWordTimerElement.textContent = nextWordTimer;
        }
        
        // Handle word submission
        function submitWord() {
            if (!gameActive || gamePaused) return;
            
            const userInput = wordInput.value.trim().toLowerCase();
            const isCorrect = userInput === currentWord.toLowerCase();
            
            // Update stats
            totalChars += currentWord.length;
            if (isCorrect) {
                correctChars += currentWord.length;
                currentStreak++;
                
                // Update score (more points for longer words and higher streaks)
                let wordScore = currentWord.length * 10;
                if (currentStreak > 3) wordScore *= 1.5;
                if (currentStreak > 5) wordScore *= 2;
                if (level === "expert") wordScore *= 2;
                
                score += Math.floor(wordScore);
                scoreValue.textContent = score;
                
                // Update best streak
                if (currentStreak > bestStreak) {
                    bestStreak = currentStreak;
                    bestStreakStat.textContent = bestStreak;
                }
                
                // Add to completed words
                addCompletedWord(currentWord, true);
                
                // Update words completed
                wordsCompleted++;
                wordsCompletedElement.textContent = wordsCompleted;
                
                // Check if goal reached
                if (wordsCompleted >= wordsGoal) {
                    levelComplete();
                    return;
                }
            } else {
                // Incorrect word
                currentStreak = 0;
                addCompletedWord(currentWord, false);
            }
            
            // Update streak display
            streakStat.textContent = currentStreak;
            
            // Update accuracy
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;
            accuracyStat.textContent = accuracy + "%";
            accuracyValue.textContent = accuracy + "%";
            
            // Update speed (chars per second)
            const timeElapsed = (Date.now() - startTime) / 1000; // in seconds
            const charsPerSecond = timeElapsed > 0 ? (correctChars / timeElapsed).toFixed(1) : "0";
            speedValue.textContent = charsPerSecond;
            
            // Update WPM
            const minutes = timeElapsed / 60;
            const wpm = minutes > 0 ? Math.round((correctChars / 5) / minutes) : 0;
            wpmStat.textContent = wpm;
            
            // Generate new word
            generateNewWord();
            resetNextWordTimer();
            
            // Update progress
            updateProgress();
        }
        
        // Add completed word to history
        function addCompletedWord(word, isCorrect) {
            const wordElement = document.createElement('div');
            wordElement.className = `completed-word ${isCorrect ? 'correct' : 'incorrect'}`;
            wordElement.textContent = word;
            
            completedWords.prepend(wordElement);
            
            // Limit to 10 displayed words
            const wordElements = completedWords.querySelectorAll('.completed-word');
            if (wordElements.length > 10) {
                wordElements[wordElements.length - 1].remove();
            }
        }
        
        // Update level progress
        function updateProgress() {
            levelProgress = Math.min(100, Math.round((wordsCompleted / wordsGoal) * 100));
            progressFill.style.width = levelProgress + "%";
            progressPercent.textContent = levelProgress + "%";
        }
        
        // Handle level completion
        function levelComplete() {
            clearInterval(timerInterval);
            clearInterval(nextWordInterval);
            
            // Calculate final stats
            const timeElapsed = (Date.now() - startTime) / 1000;
            const minutes = timeElapsed / 60;
            const wpm = minutes > 0 ? Math.round((correctChars / 5) / minutes) : 0;
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;
            
            // Show feedback
            feedbackTitle.textContent = "Level Complete!";
            feedbackMessage.textContent = getFeedbackMessage(wpm, accuracy);
            feedbackWPM.textContent = wpm;
            feedbackAccuracy.textContent = accuracy + "%";
            feedbackScore.textContent = score;
            feedbackWords.textContent = wordsCompleted;
            feedback.classList.add('show');
            
            // Disable input
            wordInput.disabled = true;
            gameActive = false;
        }
        
        // Handle game end (time's up)
        function endGame() {
            clearInterval(timerInterval);
            clearInterval(nextWordInterval);
            
            // Calculate final stats
            const timeElapsed = 60; // Game lasts 60 seconds
            const minutes = timeElapsed / 60;
            const wpm = minutes > 0 ? Math.round((correctChars / 5) / minutes) : 0;
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;
            
            // Show feedback
            feedbackTitle.textContent = "Time's Up!";
            feedbackMessage.textContent = getFeedbackMessage(wpm, accuracy);
            feedbackWPM.textContent = wpm;
            feedbackAccuracy.textContent = accuracy + "%";
            feedbackScore.textContent = score;
            feedbackWords.textContent = wordsCompleted;
            feedback.classList.add('show');
            
            // Disable input
            wordInput.disabled = true;
            gameActive = false;
        }
        
        // Get feedback message based on performance
        function getFeedbackMessage(wpm, accuracy) {
            if (wpm >= 60 && accuracy >= 95) {
                return "Outstanding! You're a typing master!";
            } else if (wpm >= 40 && accuracy >= 90) {
                return "Excellent work! Your typing skills are impressive.";
            } else if (wpm >= 30 && accuracy >= 85) {
                return "Good job! You're getting faster with practice.";
            } else if (wpm >= 20 && accuracy >= 80) {
                return "Not bad! Keep practicing to improve your speed.";
            } else {
                return "Keep practicing! Regular practice will improve your skills.";
            }
        }
        
        // Handle keyboard visualization
        function updateKeyboardVisual(key) {
            const keyElement = document.querySelector(`.keyboard-key[data-key="${key.toLowerCase()}"]`);
            if (keyElement) {
                keyElement.classList.add('active');
                setTimeout(() => {
                    keyElement.classList.remove('active');
                }, 150);
            }
        }
        
        // Event Listeners
        
        // Start button
        startBtn.addEventListener('click', startGame);
        
        // Pause button
        pauseBtn.addEventListener('click', pauseGame);
        
        // Reset button
        resetBtn.addEventListener('click', initGame);
        
        // Hint button
        hintBtn.addEventListener('click', () => {
            if (!gameActive || gamePaused) return;
            
            // Show first letter as hint (costs points)
            if (score >= 10) {
                score -= 10;
                scoreValue.textContent = score;
                
                // Highlight first letter
                const firstLetter = document.getElementById('letter-0');
                if (firstLetter) {
                    firstLetter.style.color = '#fc00ff';
                    firstLetter.style.textShadow = '0 0 10px #fc00ff';
                    
                    setTimeout(() => {
                        firstLetter.style.color = '';
                        firstLetter.style.textShadow = '';
                    }, 3000);
                }
            }
        });
        
        // Continue button (in feedback)
        continueBtn.addEventListener('click', () => {
            feedback.classList.remove('show');
            initGame();
        });
        
        // Level selection
        levelOptions.forEach(option => {
            option.addEventListener('click', () => {
                // Update active class
                levelOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                
                // Update level
                level = option.getAttribute('data-level');
                currentLevel.textContent = option.textContent.trim();
                
                // Update level description
                const descriptions = {
                    beginner: "Easy words, 5 letters max",
                    intermediate: "Medium words, 5-10 letters",
                    advanced: "Challenging words, 8-15 letters",
                    expert: "Extremely long and complex words"
                };
                levelDescription.textContent = descriptions[level];
                
                // Reset game with new level
                initGame();
            });
        });
        
        // Input handling
        wordInput.addEventListener('input', () => {
            const userInput = wordInput.value;
            
            // Update letter colors based on correctness
            for (let i = 0; i < currentWord.length; i++) {
                const letterElement = document.getElementById(`letter-${i}`);
                if (letterElement) {
                    if (i < userInput.length) {
                        if (userInput[i].toLowerCase() === currentWord[i].toLowerCase()) {
                            letterElement.style.color = '#4caf50'; // Green for correct
                        } else {
                            letterElement.style.color = '#f44336'; // Red for incorrect
                        }
                    } else {
                        letterElement.style.color = '#f0f0f0'; // Default color
                    }
                }
            }
            
            // Auto-submit if word is complete
            if (userInput.toLowerCase() === currentWord.toLowerCase()) {
                setTimeout(() => {
                    submitWord();
                }, 100);
            }
        });
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Update keyboard visualizer
            if (keyboardVisual.style.display === 'block') {
                if (e.key.length === 1 && /[a-zA-Z]/.test(e.key)) {
                    updateKeyboardVisual(e.key);
                } else if (e.key === 'Backspace') {
                    updateKeyboardVisual('backspace');
                } else if (e.key === ' ') {
                    updateKeyboardVisual('space');
                }
            }
            
            // Game controls
            if (e.key === 'Enter' && gameActive && !gamePaused) {
                submitWord();
            } else if (e.key === 'Tab' && gameActive && !gamePaused) {
                e.preventDefault();
                skipWord();
            } else if (e.key === ' ' && gameActive && !gamePaused) {
                // Space can be used to submit if input is focused
                if (document.activeElement !== wordInput) {
                    e.preventDefault();
                    wordInput.focus();
                }
            } else if (e.key === 'Escape') {
                if (feedback.classList.contains('show')) {
                    feedback.classList.remove('show');
                } else if (gameActive) {
                    pauseGame();
                }
            }
        });
        
        // Toggle keyboard visualizer
        toggleKeyboard.addEventListener('click', () => {
            if (keyboardVisual.style.display === 'block') {
                keyboardVisual.style.display = 'none';
                toggleKeyboard.innerHTML = '<i class="fas fa-keyboard"></i> Show Keyboard Visualizer';
            } else {
                keyboardVisual.style.display = 'block';
                toggleKeyboard.innerHTML = '<i class="fas fa-times"></i> Hide Keyboard Visualizer';
            }
        });
        
        // Initialize the game
        initGame();
        
        // Pre-focus the input
        setTimeout(() => {
            wordInput.focus();
        }, 500);
    </script>
</body>
</html>